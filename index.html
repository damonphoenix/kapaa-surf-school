<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Kapaʻa Surf School – Learn to Surf in Kapaʻa, Kauaʻi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Kapaʻa Surf School offers beginner lessons, family sessions, and private coaching in Kapaʻa, Kauaʻi. Small groups, local instructors, and a focus on safety and fun." />

  <!-- Schema.org: LocalBusiness + SportsActivityLocation -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": ["LocalBusiness", "SportsActivityLocation"],
    "name": "Kapaʻa Surf School",
    "description": "Small, local surf school on Kauaʻi's east shore offering beginner lessons, family sessions, and private coaching.",
    "url": "https://kapaasurfschool.com",
    "telephone": "+18085551234",
    "email": "aloha@kapaasurfschool.com",
    "foundingDate": "2012",
    "priceRange": "$$",
    "image": "./assets/images/kapaa-surf-school-kauai-surf-lesson-hero.jpg",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "456 Keālia Beachfront Rd",
      "addressLocality": "Kapaʻa",
      "addressRegion": "HI",
      "postalCode": "96746",
      "addressCountry": "US"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": 22.0752,
      "longitude": -159.3190
    },
    "openingHoursSpecification": {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],
      "opens": "07:00",
      "closes": "16:00"
    },
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "Surf Lessons",
      "itemListElement": [
        { "@type": "Offer", "name": "Beginner Lesson", "price": "110", "priceCurrency": "USD" },
        { "@type": "Offer", "name": "Ohana Session", "price": "360", "priceCurrency": "USD" },
        { "@type": "Offer", "name": "Private Coaching", "price": "185", "priceCurrency": "USD" },
        { "@type": "Offer", "name": "Sunrise Session", "price": "145", "priceCurrency": "USD" }
      ]
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "5",
      "reviewCount": "3"
    }
  }
  </script>

  <!-- Open Graph / Twitter cards -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Kapaʻa Surf School – Learn to Surf in Kauaʻi" />
  <meta property="og:description" content="Small groups, local instructors, and beginner-friendly waves on the east shore of Kauaʻi." />
  <meta property="og:image" content="./assets/images/kapaa-surf-school-kauai-surf-lesson-hero.jpg" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Optional Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg-body: #f9f4ee;
      --bg-card: #ffffff;
      --bg-accent-soft: #e0f2f5;
      --bg-hero-gradient: linear-gradient(135deg, #cde8ff 0%, #fdf6e9 35%, #f7e9ff 100%);
      --text-main: #1f2933;
      --text-muted: #6b7280;
      --primary: #0f766e;
      --primary-soft: #d1faf5;
      --primary-deep: #0b4f48;
      --secondary: #2563eb;
      --sand: #f6e7cf;
      --border-subtle: #e5e7eb;
      --shadow-soft: 0 10px 30px rgba(15, 118, 110, 0.08);
      --radius-lg: 18px;
      --radius-md: 12px;
      --radius-pill: 999px;
      --nav-height: 72px;
      --transition-fast: 150ms ease-out;
      --transition-med: 220ms ease-out;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      scroll-behavior: smooth;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg-body);
      color: var(--text-main);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    img {
      max-width: 100%;
      display: block;
    }

    figure {
      margin: 0;
    }

    a {
      color: var(--primary);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .container {
      width: 100%;
      max-width: 1080px;
      margin: 0 auto;
      padding: 0 1.25rem;
    }

    h1,
    h2,
    h3,
    h4 {
      margin: 0;
      font-weight: 600;
      letter-spacing: -0.02em;
    }

    p {
      margin: 0;
    }

    section {
      padding: 3.5rem 0;
    }

    @media (min-width: 768px) {
      section {
        padding: 4.75rem 0;
      }
    }

    #about {
      padding-bottom: 3.5rem;
    }

    #packages {
      padding-top: 3.5rem;
    }

    /* NAVIGATION */

    header {
      position: sticky;
      top: 0;
      z-index: 40;
      backdrop-filter: blur(18px);
      background: linear-gradient(to bottom, rgba(249, 244, 238, 0.92), rgba(249, 244, 238, 0.8));
      border-bottom: 1px solid rgba(229, 231, 235, 0.7);
    }

    .nav-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: var(--nav-height);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .brand-mark {
      width: 55px;
      height: 55px;
      object-fit: contain;
    }

    .brand-text {
      display: flex;
      flex-direction: column;
    }

    .brand-name {
      font-size: 1.05rem;
      font-weight: 700;
      background: linear-gradient(135deg, #0f766e 0%, #0d9488 45%, #22c55e 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .brand-sub {
      font-size: 0.75rem;
      color: #0f766e;
      opacity: 0.75;
    }

    .nav-link {
      position: relative;
      color: var(--text-main);
      font-weight: 500;
      cursor: pointer;
    }

    .nav-link::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -0.35rem;
      width: 0;
      height: 2px;
      border-radius: var(--radius-pill);
      background: linear-gradient(90deg, #0f766e, #14b8a6);
      transition: width var(--transition-fast);
    }

    .nav-link:hover::after,
    .nav-link:focus-visible::after {
      width: 100%;
    }

    @keyframes nav-cta-peel {
      0%   { transform: perspective(420px) rotateY(0deg)   translateX(0);      }
      16%  { transform: perspective(420px) rotateY(-9deg)  translateX(-1.8px); }
      32%  { transform: perspective(420px) rotateY(-3.5deg) translateX(1.2px); }
      52%  { transform: perspective(420px) rotateY(-6deg)  translateX(-0.7px); }
      72%  { transform: perspective(420px) rotateY(-4.5deg) translateX(0.3px); }
      100% { transform: perspective(420px) rotateY(-4deg)  translateX(0);      }
    }

    .nav-cta {
      padding: 0.52rem 1.2rem;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(255, 255, 255, 0.22);
      background: linear-gradient(135deg, #229e93 0%, #14b8a6 50%, #22c55e 100%);
      font-size: 0.85rem;
      font-weight: 600;
      color: #ecfdf5;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      cursor: pointer;
      box-shadow: 0 8px 22px rgba(15, 118, 110, 0.38);
      transition: transform 320ms ease, box-shadow 180ms ease;
      position: relative;
      overflow: hidden;
      transform-origin: right center;
    }

    .nav-cta::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        115deg,
        transparent 25%,
        rgba(255, 255, 255, 0.18) 50%,
        transparent 75%
      );
      transform: translateX(-140%);
      transition: transform 520ms ease;
      pointer-events: none;
      z-index: 1;
    }

    .nav-cta::after {
      content: "";
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 22px;
      background: linear-gradient(to right, rgba(0, 0, 0, 0.14), transparent);
      border-radius: inherit;
      opacity: 0;
      transition: opacity 200ms ease 80ms;
      pointer-events: none;
      z-index: 2;
    }

    .nav-cta-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      flex-shrink: 0;
      background: radial-gradient(circle at center,
        rgba(255, 255, 255, 0.95) 0%,
        rgba(187, 247, 208, 0.55) 50%,
        transparent 100%);
      box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.35), 0 0 3px 1px rgba(187, 247, 208, 0.4);
      position: relative;
      z-index: 3;
    }

    .nav-cta:hover {
      animation: nav-cta-peel 480ms cubic-bezier(0.34, 1.2, 0.64, 1) forwards;
      box-shadow: 0 14px 30px rgba(15, 118, 110, 0.5);
      text-decoration: none;
    }

    .nav-cta:hover::before {
      transform: translateX(140%);
    }

    .nav-cta:hover::after {
      opacity: 1;
    }

    .nav-cta:focus-visible,
    .nav-link:focus-visible,
    .hamburger:focus-visible {
      outline: 2px solid var(--primary);
      outline-offset: 3px;
    }

    .hamburger {
      display: inline-flex;
      flex-direction: column;
      justify-content: center;
      gap: 5px;
      width: 40px;
      height: 40px;
      padding: 0;
      background: transparent;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      cursor: pointer;
    }

    .hamburger-line {
      height: 2px;
      width: 18px;
      margin: 0 auto;
      border-radius: 99px;
      background-color: #0f172a;
      transition: transform var(--transition-med), opacity var(--transition-med), width var(--transition-med);
    }

    .hamburger[aria-expanded="true"] .hamburger-line:nth-child(1) {
      transform: translateY(3px) rotate(44deg);
      width: 16px;
    }

    .hamburger[aria-expanded="true"] .hamburger-line:nth-child(2) {
      opacity: 0;
    }

    .hamburger[aria-expanded="true"] .hamburger-line:nth-child(3) {
      transform: translateY(-3px) rotate(-44deg);
      width: 16px;
    }

    .nav-desktop {
      display: none;
    }

    .nav-mobile {
      position: fixed;
      inset: var(--nav-height) 0 auto;
      background: radial-gradient(circle at 0 0, rgba(209, 250, 229, 0.95), rgba(249, 244, 238, 0.98));
      border-bottom: 1px solid rgba(209, 213, 219, 0.7);
      transform-origin: top;
      transform: scaleY(0.9);
      opacity: 0;
      pointer-events: none;
      transition: opacity var(--transition-med), transform var(--transition-med);
      z-index: 30;
    }

    .nav-mobile.open {
      opacity: 1;
      pointer-events: auto;
      transform: scaleY(1);
    }

    .nav-mobile-inner {
      padding: 0.75rem 1.5rem 1.2rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .nav-mobile-link {
      font-weight: 500;
      color: var(--text-main);
      padding: 0.4rem 0;
    }

    .nav-mobile-cta {
      margin-top: 0.5rem;
      width: fit-content;
    }

    @media (min-width: 768px) {
      .hamburger,
      .nav-mobile {
        display: none;
      }

      .nav-desktop {
        display: flex;
        align-items: center;
        gap: 1.8rem;
      }
    }

    /* Sticky booking bar (mobile only) */
    .sticky-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 50;
      background: rgba(249, 244, 238, 0.97);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border-top: 1px solid rgba(15, 118, 110, 0.25);
      padding: 0.7rem 1.25rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      transform: translateY(100%);
      transition: transform 320ms cubic-bezier(0.34, 1.1, 0.64, 1);
      box-shadow: 0 -8px 24px rgba(15, 23, 42, 0.1);
    }
    .sticky-bar.visible { transform: translateY(0); }
    .sticky-bar-text { font-size: 0.88rem; font-weight: 500; color: var(--text-main); }
    .sticky-bar-text span { color: var(--primary); font-weight: 600; }
    .sticky-bar-cta {
      flex-shrink: 0;
      padding: 0.55rem 1.25rem;
      border-radius: var(--radius-pill);
      background: linear-gradient(135deg, #229e93, #14b8a6 50%, #22c55e);
      color: #ecfdf5;
      font-size: 0.85rem;
      font-weight: 600;
      border: 1px solid rgba(255, 255, 255, 0.22);
      box-shadow: 0 8px 20px rgba(15, 118, 110, 0.35);
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      transition: transform 150ms ease, box-shadow 150ms ease;
    }
    .sticky-bar-cta:hover { transform: translateY(-1px); box-shadow: 0 12px 28px rgba(15, 118, 110, 0.45); text-decoration: none; }
    .sticky-bar-dismiss {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.3rem;
      color: var(--text-muted);
      font-size: 1.1rem;
      line-height: 1;
      flex-shrink: 0;
      border-radius: 50%;
      transition: color 150ms;
    }
    .sticky-bar-dismiss:hover { color: var(--text-main); }
    @media (max-width: 480px) {
      .sticky-bar-text { display: none; }
      .sticky-bar { justify-content: flex-end; }
    }
    @media (min-width: 768px) { .sticky-bar { display: none; } }

    /* HERO */

    .hero {
      padding-top: 2.5rem;
      padding-bottom: 3.5rem;
      background: radial-gradient(circle at top left, rgba(96, 165, 250, 0.3), transparent 60%),
                  radial-gradient(circle at bottom right, rgba(45, 212, 191, 0.2), transparent 55%),
                  var(--bg-hero-gradient);
      border-bottom-left-radius: 2.5rem;
      border-bottom-right-radius: 2.5rem;
      box-shadow: 0 18px 55px rgba(15, 23, 42, 0.12);
      overflow: hidden;
    }

    @media (min-width: 768px) {
      .hero {
        padding-bottom: 4rem;
      }
    }

    .hero-grid {
      display: grid;
      gap: 2.75rem;
    }

    @media (min-width: 900px) {
      .hero-grid {
        grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
        align-items: start;
        gap: 3.5rem;
      }
    }

    .hero-pre {
      display: inline-flex;
      align-items: center;
      gap: 0.65rem;
      padding: 0.4rem 0.7rem;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(14, 165, 233, 0.35);
      background: rgba(255, 255, 255, 0.8);
      color: #0369a1;
      font-size: 0.8rem;
      margin-bottom: 1.1rem;
      box-shadow: 0 6px 16px rgba(14, 165, 233, 0.10);
    }

    .hero-pre-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: radial-gradient(circle at center, rgba(14, 165, 233, 0.65) 0%, rgba(14, 165, 233, 0.15) 55%, transparent 100%);
      box-shadow: 0 0 6px 2px rgba(14, 165, 233, 0.25);
      flex-shrink: 0;
    }

    .hero-heading {
      font-size: clamp(2.2rem, 4vw, 3rem);
      margin-bottom: 0.8rem;
    }

    /* Gradient on each text span only — avoids WebKit bug where one gradient + mixed child colors hides text */
    .hero-highlight {
      background: linear-gradient(120deg, #0f766e 0%, #22c55e 45%, #0ea5e9 100%);
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
    }

    .hero-plain {
      color: var(--text-main);
    }

    .hero-magic-wrap {
      position: relative;
      display: inline-block;
    }

    .hero-magic {
      position: relative;
      z-index: 1;
      letter-spacing: 0.06em;
      background: linear-gradient(120deg, #0f766e 0%, #22c55e 45%, #0ea5e9 100%);
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
      text-shadow:
        0 0 18px rgba(20, 184, 166, 0.4),
        0 0 36px rgba(14, 165, 233, 0.18);
      animation: hero-magic-glow 7s ease-in-out infinite;
    }

    @keyframes hero-magic-glow {
      0%, 100% {
        text-shadow:
          0 0 18px rgba(20, 184, 166, 0.4),
          0 0 36px rgba(14, 165, 233, 0.18);
      }
      50% {
        text-shadow:
          0 0 24px rgba(20, 184, 166, 0.55),
          0 0 48px rgba(14, 165, 233, 0.3),
          0 0 20px rgba(34, 197, 94, 0.15);
      }
    }

    .hero-wisp {
      position: absolute;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(20, 184, 166, 0.5) 0%, rgba(14, 165, 233, 0.25) 50%, transparent 70%);
      filter: blur(3px);
      pointer-events: none;
    }

    .hero-wisp-1 { top: -4px; right: -6px; animation: hero-wisp-float-r 6s ease-in-out infinite; animation-delay: 0s; }
    .hero-wisp-2 { top: 50%; right: -12px; transform: translateY(-50%); animation: hero-wisp-float-r 6s ease-in-out infinite; animation-delay: 1.2s; }
    .hero-wisp-3 { bottom: -2px; left: -4px; animation: hero-wisp-float-l 6s ease-in-out infinite; animation-delay: 2.4s; }
    .hero-wisp-4 { top: 20%; left: -10px; transform: translateY(-50%); animation: hero-wisp-float-l 6s ease-in-out infinite; animation-delay: 3.6s; }

    @keyframes hero-wisp-float-r {
      0% { transform: translate(0, 0); opacity: 0.5; }
      25% { transform: translate(6px, -5px); opacity: 0.7; }
      50% { transform: translate(10px, -8px); opacity: 0; }
      75% { transform: translate(4px, -4px); opacity: 0.4; }
      100% { transform: translate(0, 0); opacity: 0.5; }
    }

    @keyframes hero-wisp-float-l {
      0% { transform: translate(0, 0); opacity: 0.5; }
      25% { transform: translate(-6px, -5px); opacity: 0.7; }
      50% { transform: translate(-10px, -8px); opacity: 0; }
      75% { transform: translate(-4px, -4px); opacity: 0.4; }
      100% { transform: translate(0, 0); opacity: 0.5; }
    }

    .hero-wisp-2 { animation-name: hero-wisp-float-r-toped; }
    .hero-wisp-4 { animation-name: hero-wisp-float-l-toped; }

    @keyframes hero-wisp-float-r-toped {
      0% { transform: translateY(-50%) translate(0, 0); opacity: 0.5; }
      25% { transform: translateY(-50%) translate(6px, -5px); opacity: 0.7; }
      50% { transform: translateY(-50%) translate(10px, -8px); opacity: 0; }
      75% { transform: translateY(-50%) translate(4px, -4px); opacity: 0.4; }
      100% { transform: translateY(-50%) translate(0, 0); opacity: 0.5; }
    }

    @keyframes hero-wisp-float-l-toped {
      0% { transform: translateY(-50%) translate(0, 0); opacity: 0.5; }
      25% { transform: translateY(-50%) translate(-6px, -5px); opacity: 0.7; }
      50% { transform: translateY(-50%) translate(-10px, -8px); opacity: 0; }
      75% { transform: translateY(-50%) translate(-4px, -4px); opacity: 0.4; }
      100% { transform: translateY(-50%) translate(0, 0); opacity: 0.5; }
    }

    /* Yellow fairy wisp: sits at "i" in Magic, then meanders to Book a Lesson and lands (no loop) */
    .hero-left-col {
      position: relative;
      overflow: visible;
    }
    /* Hidden until JS positions (avoids flash at wrong place on any viewport) */
    .hero-cta-wisp { visibility: hidden; }
    .hero-left-col.hero-wisp-js .hero-cta-wisp { visibility: visible; }

    .hero-cta-dot-placeholder {
      width: 8px;
      height: 8px;
      flex-shrink: 0;
      display: inline-block;
    }

    .hero-cta-wisp {
      position: absolute;
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: radial-gradient(circle at center,
        rgba(254, 249, 195, 0.98) 0%,
        rgba(253, 224, 71, 0.7) 40%,
        rgba(250, 204, 21, 0.35) 70%,
        transparent 100%);
      box-shadow:
        0 0 10px 2px rgba(253, 224, 71, 0.5),
        0 0 20px 4px rgba(250, 204, 21, 0.25);
      pointer-events: none;
      /* Start at dot of "i" in "Magic" (second line of heading) */
      left: 30%;
      top: 4.55rem;
      animation: hero-cta-wisp-travel 14s cubic-bezier(0.33, 1, 0.68, 1) 1 forwards;
      animation-delay: 2s;
      z-index: 5;
    }

    @keyframes hero-cta-wisp-travel {
      0%, 2% {
        transform: translate(0, 0);
        opacity: 1;
      }
      15% {
        transform: translate(6px, 22px);
        opacity: 1;
      }
      28% {
        transform: translate(-10px, 48px);
        opacity: 1;
      }
      42% {
        transform: translate(4px, 80px);
        opacity: 1;
      }
      55% {
        transform: translate(-6px, 115px);
        opacity: 1;
      }
      68% {
        transform: translate(3px, 148px);
        opacity: 1;
      }
      80% {
        transform: translate(-4px, 178px);
        opacity: 1;
      }
      90% {
        transform: translate(-6px, 200px);
        opacity: 1;
      }
      95% {
        transform: translate(-8px, 212px);
        opacity: 0.85;
      }
      98% {
        transform: translate(-8px, 218px) scale(1.02);
        opacity: 0.5;
      }
      100% {
        transform: translate(-8px, 218px) scale(1);
        opacity: 0;
      }
    }

    .hero-cta-wisp-landed {
      position: absolute;
      width: 8px;
      height: 8px;
      border-radius: 999px;
      left: 30%;
      top: 4.55rem;
      transform: translate(-8px, 218px);
      background: radial-gradient(circle at center,
        rgba(255, 255, 255, 0.95) 0%,
        rgba(187, 247, 208, 0.55) 50%,
        transparent 100%);
      box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.35), 0 0 3px 1px rgba(187, 247, 208, 0.4);
      pointer-events: none;
      z-index: 5;
      opacity: 0;
      animation: hero-cta-wisp-landed-appear 2s ease-out 1 forwards;
      animation-delay: 15.5s;
    }

    @keyframes hero-cta-wisp-landed-appear {
      0% {
        opacity: 0;
        transform: translate(-8px, 218px) scale(0.6);
      }
      40% {
        opacity: 1;
        transform: translate(-8px, 218px) scale(1.05);
      }
      70% {
        transform: translate(-8px, 218px) scale(0.98);
      }
      100% {
        opacity: 1;
        transform: translate(-8px, 218px) scale(1);
      }
    }

    /* Tablet: "i" and landing position */
    @media (min-width: 768px) and (max-width: 899px) {
      .hero-cta-wisp {
        left: 30%;
        top: 4.25rem;
        animation-name: hero-cta-wisp-travel-tab;
      }
      .hero-cta-wisp-landed {
        left: 30%;
        top: 4.25rem;
        transform: translate(-8px, 200px);
        animation-name: hero-cta-wisp-landed-appear-tab;
      }
    }

    @keyframes hero-cta-wisp-travel-tab {
      0%, 2% { transform: translate(0, 0); opacity: 1; }
      15% { transform: translate(6px, 20px); opacity: 1; }
      28% { transform: translate(-10px, 44px); opacity: 1; }
      42% { transform: translate(4px, 72px); opacity: 1; }
      55% { transform: translate(-6px, 102px); opacity: 1; }
      68% { transform: translate(3px, 132px); opacity: 1; }
      80% { transform: translate(-4px, 160px); opacity: 1; }
      90% { transform: translate(-6px, 182px); opacity: 1; }
      95% { transform: translate(-8px, 192px); opacity: 0.85; }
      98% { transform: translate(-8px, 200px) scale(1.02); opacity: 0.5; }
      100% { transform: translate(-8px, 200px) scale(1); opacity: 0; }
    }

    @keyframes hero-cta-wisp-landed-appear-tab {
      0% { opacity: 0; transform: translate(-8px, 200px) scale(0.6); }
      40% { opacity: 1; transform: translate(-8px, 200px) scale(1.05); }
      70% { transform: translate(-8px, 200px) scale(0.98); }
      100% { opacity: 1; transform: translate(-8px, 200px) scale(1); }
    }

    /* Mobile: "i" and landing position */
    @media (max-width: 767px) {
      .hero-cta-wisp {
        left: 29%;
        top: 3.9rem;
        animation-name: hero-cta-wisp-travel-mob;
      }
      .hero-cta-wisp-landed {
        left: 29%;
        top: 3.9rem;
        transform: translate(-6px, 182px);
        animation-name: hero-cta-wisp-landed-appear-mob;
      }
    }

    @keyframes hero-cta-wisp-travel-mob {
      0%, 2% { transform: translate(0, 0); opacity: 1; }
      15% { transform: translate(5px, 20px); opacity: 1; }
      28% { transform: translate(-8px, 42px); opacity: 1; }
      42% { transform: translate(4px, 68px); opacity: 1; }
      55% { transform: translate(-5px, 98px); opacity: 1; }
      68% { transform: translate(3px, 128px); opacity: 1; }
      80% { transform: translate(-4px, 152px); opacity: 1; }
      90% { transform: translate(-5px, 168px); opacity: 1; }
      95% { transform: translate(-6px, 176px); opacity: 0.85; }
      98% { transform: translate(-6px, 182px) scale(1.02); opacity: 0.5; }
      100% { transform: translate(-6px, 182px) scale(1); opacity: 0; }
    }

    @keyframes hero-cta-wisp-landed-appear-mob {
      0% { opacity: 0; transform: translate(-6px, 182px) scale(0.6); }
      40% { opacity: 1; transform: translate(-6px, 182px) scale(1.05); }
      70% { transform: translate(-6px, 182px) scale(0.98); }
      100% { opacity: 1; transform: translate(-6px, 182px) scale(1); }
    }

    /* Small mobile */
    @media (max-width: 599px) {
      .hero-cta-wisp {
        left: 28%;
        top: 3.5rem;
        animation-name: hero-cta-wisp-travel-sm;
      }
      .hero-cta-wisp-landed {
        left: 28%;
        top: 3.5rem;
        transform: translate(-5px, 162px);
      }
      .hero-cta-wisp-landed { animation-name: hero-cta-wisp-landed-appear-sm; }
    }

    @keyframes hero-cta-wisp-travel-sm {
      0%, 2% { transform: translate(0, 0); opacity: 1; }
      15% { transform: translate(4px, 18px); opacity: 1; }
      28% { transform: translate(-7px, 38px); opacity: 1; }
      42% { transform: translate(3px, 60px); opacity: 1; }
      55% { transform: translate(-4px, 86px); opacity: 1; }
      68% { transform: translate(2px, 112px); opacity: 1; }
      80% { transform: translate(-3px, 136px); opacity: 1; }
      90% { transform: translate(-4px, 150px); opacity: 1; }
      95% { transform: translate(-5px, 157px); opacity: 0.85; }
      98% { transform: translate(-5px, 162px) scale(1.02); opacity: 0.5; }
      100% { transform: translate(-5px, 162px) scale(1); opacity: 0; }
    }

    @keyframes hero-cta-wisp-landed-appear-sm {
      0% { opacity: 0; transform: translate(-5px, 162px) scale(0.6); }
      40% { opacity: 1; transform: translate(-5px, 162px) scale(1.05); }
      70% { transform: translate(-5px, 162px) scale(0.98); }
      100% { opacity: 1; transform: translate(-5px, 162px) scale(1); }
    }

    .hero-subtitle {
      font-size: 1.02rem;
      color: var(--text-muted);
      max-width: 36rem;
      margin-bottom: 1.8rem;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 1rem;
      margin-bottom: 2.75rem;
    }

    .hero-cta-btn {
      animation: hero-cta-wag 2.2s ease-in-out 1 forwards;
      animation-delay: 8.25s;
    }

    @keyframes hero-cta-wag {
      0%, 100% { transform: translateX(0); }
      12% { transform: translateX(1.3px); }
      25% { transform: translateX(-1.3px); }
      37% { transform: translateX(1.3px); }
      50% { transform: translateX(-0.65px); }
      62% { transform: translateX(1px); }
      75% { transform: translateX(-1.3px); }
      87% { transform: translateX(0.65px); }
    }

    .btn {
      border-radius: var(--radius-pill);
      border: 1px solid transparent;
      padding: 0.8rem 1.5rem;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      text-decoration: none;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), color var(--transition-fast);
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, #229e93 0%, #14b8a6 50%, #22c55e 100%);
      color: #ecfdf5;
      box-shadow: 0 16px 40px rgba(15, 118, 110, 0.35);
      border: 1px solid rgba(255, 255, 255, 0.22);
      position: relative;
      overflow: hidden;
      gap: 0.65rem;
    }

    .btn-primary::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        115deg,
        transparent 25%,
        rgba(255, 255, 255, 0.18) 50%,
        transparent 75%
      );
      transform: translateX(-140%);
      transition: transform 520ms ease;
      pointer-events: none;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 20px 45px rgba(15, 118, 110, 0.4);
      text-decoration: none;
    }

    .btn-primary:hover::after {
      transform: translateX(140%);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.92);
      color: var(--primary-deep);
      border: 1.5px solid rgba(15, 118, 110, 0.32);
      box-shadow: 0 3px 8px rgba(148, 163, 184, 0.12);
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 1);
      transform: translateY(-1px);
      text-decoration: none;
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.9rem;
      font-size: 0.8rem;
      color: #0f172a;
    }

    .hero-meta-item {
      display: inline-flex;
      align-items: center;
      gap: 0.65rem;
      padding: 0.4rem 0.7rem;
      border-radius: var(--radius-pill);
      background: rgba(255, 255, 255, 0.85);
      border: 1px solid rgba(14, 165, 233, 0.28);
    }

    .hero-meta-item--warm {
      border-color: rgba(251, 113, 22, 0.28);
    }

    .hero-meta-pill {
      width: 11px;
      height: 11px;
      border-radius: 999px;
      flex-shrink: 0;
      background: radial-gradient(circle at center,
        rgba(14, 165, 233, 0.85) 0%,
        rgba(34, 197, 94, 0.45) 40%,
        rgba(15, 118, 110, 0.12) 70%,
        transparent 100%);
      box-shadow: 0 0 7px 2px rgba(14, 165, 233, 0.22), 0 0 3px 1px rgba(34, 197, 94, 0.18);
    }

    .hero-meta-pill--warm {
      background: radial-gradient(circle at center,
        rgba(251, 113, 22, 0.85) 0%,
        rgba(251, 191, 36, 0.4) 45%,
        rgba(251, 113, 22, 0.08) 70%,
        transparent 100%);
      box-shadow: 0 0 7px 2px rgba(251, 113, 22, 0.22), 0 0 3px 1px rgba(251, 191, 36, 0.18);
    }

    .hero-card {
      position: relative;
      padding: 2.6rem 2.4rem;
      border-radius: 1.8rem;
      background: transparent;
      color: #f8fafc;
      box-shadow: none;
      overflow: hidden;
      height: 100%;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }

    @media (min-width: 900px) {
      .hero-card {
        padding: 3rem 2.8rem;
      }
    }

    .hero-card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.35), transparent 60%),
                  radial-gradient(circle at 100% 100%, rgba(52, 211, 153, 0.32), transparent 55%);
      opacity: 0.6;
      pointer-events: none;
    }

    .hero-card-inner {
      position: relative;
      z-index: 1;
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 1.45rem;
    }


    .hero-card-header {
      display: flex;
      flex-direction: column;
      margin-top: 0.5rem;
    }

    .hero-card-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.65rem;
      color: #ffffff;
    }

    .hero-card-badge {
      position: absolute;
      top: 1.1rem;
      right: 1.2rem;
      padding: 0.35rem 0.65rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 600;
      color: #fecdd3;
      border-radius: 9999px;
      border: 1px solid rgba(255, 180, 190, 0.35);
      background: rgba(244, 63, 94, 0.18);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index: 2;
    }

    @media (min-width: 900px) {
      .hero-card-badge {
        top: 1.4rem;
        right: 1.6rem;
        padding: 0.4rem 0.75rem;
        font-size: 0.85rem;
      }
    }

    .hero-card-sub {
      font-size: 0.82rem;
      color: #f1f5f9;
      margin: 0;
      line-height: 1.55;
    }

    .hero-stats {
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      margin: 0;
      font-size: 0.82rem;
    }

    .hero-stat-label {
      color: #edf4fa;
      font-size: 0.7rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .hero-stat-value {
      font-weight: 600;
      color: #ffffff;
      margin-top: 0.25rem;
    }

    @keyframes hero-wave-pulse {
      0%, 100% {
        box-shadow: 0 14px 35px rgba(14, 165, 233, 0.38);
      }
      50% {
        box-shadow: 0 14px 38px rgba(14, 165, 233, 0.55), 0 0 20px rgba(24, 184, 87, 0.13);
      }
    }

    @keyframes hero-wave-shimmer {
      0%, 100% { opacity: 0.4; }
      50%       { opacity: 0.85; }
    }

    .hero-wave {
      position: relative;
      margin-top: auto;
      border-radius: 1.4rem;
      background: linear-gradient(135deg, #0280be, #0c9082 52%, #14954a);
      padding: 0.75rem 1.1rem;
      display: flex;
      align-items: center;
      font-size: 0.8rem;
      border: 1px solid rgba(255, 255, 255, 0.22);
      overflow: hidden;
      gap: 1rem;
      animation: hero-wave-pulse 7s ease-in-out infinite;
    }

    .hero-wave::before {
      content: "";
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      width: 42%;
      background: radial-gradient(ellipse at 30% 50%,
        rgba(255, 255, 255, 0.16) 0%,
        rgba(255, 255, 255, 0.05) 55%,
        transparent 100%);
      pointer-events: none;
      animation: hero-wave-shimmer 7s ease-in-out infinite;
    }

    .hero-wave-text {
      position: relative;
      z-index: 1;
      color: #ffffff;
      line-height: 1.4;
    }

    .hero-wave-sub {
      font-size: 0.7rem;
      color: #d1fae5;
      opacity: 1;
    }

    @keyframes hero-wave-dot-pulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.3), 0 0 3px 1px rgba(187, 247, 208, 0.35);
      }
      50% {
        transform: scale(1.2);
        box-shadow: 0 0 9px 3px rgba(255, 255, 255, 0.38), 0 0 16px 4px rgba(14, 165, 233, 0.18);
      }
    }

    .hero-wave-dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      flex-shrink: 0;
      background: radial-gradient(circle at center,
        rgba(255, 255, 255, 0.95) 0%,
        rgba(187, 247, 208, 0.55) 50%,
        transparent 100%);
      box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.3), 0 0 3px 1px rgba(187, 247, 208, 0.35);
      animation: hero-wave-dot-pulse 7s ease-in-out infinite;
      position: relative;
      z-index: 2;
    }

    .hero-media {
      position: relative;
      border-radius: 1.8rem;
      overflow: hidden;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.6);
      background-image: url("./assets/images/kapaa-surf-school-kauai-surf-lesson-hero.jpg");
      background-size: cover;
      background-position: center;
      height: 555px;
      margin-top: 2.6rem;
      display: flex;
      flex-direction: column;
    }

    .hero-media::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        145deg,
        rgba(15, 23, 42, 0.8),
        rgba(15, 23, 42, 0.3)
      );
    }

    /* Mobile & tablet only (desktop 900px+ unchanged) */
    @media (max-width: 767px) {
      .container {
        padding-left: 1rem;
        padding-right: 1rem;
      }

      section {
        padding: 2.75rem 0;
      }

      .hero {
        padding-top: 2rem;
        padding-bottom: 3rem;
      }

      .hero-grid {
        gap: 2rem;
      }

      /* Gentle waves pill: match hero-meta size */
      .hero-pre {
        font-size: 0.78rem;
        padding: 0.35rem 0.6rem;
        gap: 0.65rem;
        margin-bottom: 1rem;
      }

      .hero-heading {
        font-size: clamp(1.95rem, 6vw, 2.6rem);
      }

      .hero-subtitle {
        font-size: 0.98rem;
        margin-bottom: 1.5rem;
      }

      .hero-actions {
        gap: 0.75rem;
        margin-bottom: 2rem;
      }

      .btn {
        padding: 0.72rem 1.2rem;
        font-size: 0.9rem;
      }

      .hero-meta {
        gap: 0.65rem;
        font-size: 0.78rem;
      }

      .hero-meta-item {
        padding: 0.35rem 0.6rem;
      }

      .hero-card {
        padding: 2rem 1.75rem;
      }

      .hero-card-inner {
        gap: 1.25rem;
      }

      .hero-card-title {
        font-size: 1.05rem;
      }

      .hero-card-badge {
        top: 0.9rem;
        right: 1rem;
        padding: 0.3rem 0.55rem;
        font-size: 0.75rem;
      }

      .hero-media {
        height: 456px;
        margin-top: 2rem;
        border-radius: 1.4rem;
      }

      .section-header {
        margin-bottom: 1.5rem;
      }

      .section-title {
        font-size: 1.5rem;
      }

      .section-subtitle {
        font-size: 0.9rem;
      }

      .about-grid {
        gap: 1.5rem;
      }

      .about-card,
      .about-story-card {
        padding: 1.2rem 1.25rem;
        font-size: 0.88rem;
      }

      .package-card {
        padding: 1.2rem 1.25rem 1.15rem;
      }

      .package-thumb {
        height: 160px;
      }

      .package-title {
        font-size: 0.98rem;
      }

      .schedule-wrapper {
        padding: 1.2rem;
      }

      .schedule-item {
        padding: 0.5rem 0.65rem;
        font-size: 0.85rem;
      }

      .testimonials-grid {
        gap: 1rem;
      }

      .testimonial-card {
        padding: 1.15rem 1.3rem;
      }

      .testimonial-quote {
        font-size: 0.88rem;
      }

      .faq-question {
        padding: 1rem 1.1rem;
        font-size: 0.9rem;
      }

      .form-card {
        padding: 1.4rem 1.25rem 1.35rem;
      }

      .booking-info-card {
        padding: 1.2rem 1.25rem 1.15rem;
      }

      .location-tile {
        padding: 1rem 1.1rem;
      }

      footer {
        margin-top: 2.5rem;
        padding: 1.5rem 0 1.75rem;
        font-size: 0.82rem;
      }

      .footer-inner {
        gap: 1rem;
      }
    }

    @media (max-width: 599px) {
      .container {
        padding-left: 0.9rem;
        padding-right: 0.9rem;
      }

      section {
        padding: 2.25rem 0;
      }

      .hero {
        padding-bottom: 2.75rem;
      }

      .hero-pre {
        font-size: 0.78rem;
        padding: 0.35rem 0.6rem;
        gap: 0.65rem;
      }

      .hero-heading {
        font-size: clamp(1.75rem, 7vw, 2.35rem);
      }

      .hero-subtitle {
        font-size: 0.94rem;
        margin-bottom: 1.35rem;
      }

      .hero-actions {
        flex-direction: row;
        flex-wrap: wrap;
        margin-bottom: 1.75rem;
      }

      .hero-card {
        padding: 1.6rem 1.35rem;
        margin-bottom: 0.5rem;
      }

      .hero-card-title {
        font-size: 1rem;
      }

      .hero-card-sub,
      .hero-stats {
        font-size: 0.78rem;
      }

      .hero-wave {
        padding: 0.65rem 1rem;
        font-size: 0.75rem;
      }

      .hero-media {
        height: 408px;
        margin-top: 1.75rem;
        border-radius: 1.2rem;
      }

      .section-title {
        font-size: 1.38rem;
      }

      .section-kicker {
        font-size: 0.72rem;
      }

      .package-card {
        padding: 1.1rem 1.15rem 1.05rem;
      }

      .package-thumb {
        height: 150px;
      }

      .form-card {
        padding: 1.25rem 1.1rem 1.2rem;
      }

      .form-row {
        gap: 0.85rem;
      }

      .footer-links,
      .footer-social {
        gap: 0.7rem;
      }
    }

    @media (min-width: 768px) and (max-width: 899px) {
      .hero-grid {
        gap: 2.5rem;
      }

      .hero-media {
        max-height: 504px;
        height: 504px;
      }

      .section-header {
        margin-bottom: 1.75rem;
      }

      .cards-grid {
        gap: 1.25rem;
      }

      .schedule-wrapper {
        padding: 1.4rem;
      }

      .testimonials-grid {
        gap: 1.4rem;
      }
    }

    /* Live surf conditions (weather widget) */
    #weather {
      padding: 2.5rem 0;
    }

    .weather-bar {
      background:
        radial-gradient(ellipse at 10% 50%, rgba(14, 165, 233, 0.15) 0%, transparent 55%),
        radial-gradient(ellipse at 90% 30%, rgba(20, 184, 166, 0.12) 0%, transparent 50%),
        linear-gradient(135deg, #0b1f3a 0%, #0c2d3f 50%, #0b2530 100%);
      border-radius: 1.6rem;
      border: 1px solid rgba(56, 189, 248, 0.18);
      box-shadow: 0 20px 50px rgba(15, 23, 42, 0.35), inset 0 1px 0 rgba(56, 189, 248, 0.12);
      padding: 1.5rem 1.8rem;
      position: relative;
      overflow: hidden;
    }

    .weather-bar::before {
      content: "";
      position: absolute;
      top: -60%;
      right: -10%;
      width: 340px;
      height: 340px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(56, 189, 248, 0.06) 0%, transparent 70%);
      pointer-events: none;
    }

    .weather-inner {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 1.5rem;
      align-items: center;
      position: relative;
      z-index: 1;
    }

    @media (min-width: 768px) {
      .weather-inner {
        grid-template-columns: auto 1fr auto;
        gap: 2rem;
      }
    }

    .weather-current {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex-shrink: 0;
    }

    .weather-icon {
      font-size: 2.6rem;
      line-height: 1;
      filter: drop-shadow(0 0 12px rgba(56, 189, 248, 0.4));
    }

    .weather-now { display: flex; flex-direction: column; }
    .weather-temp { font-size: 2rem; font-weight: 700; color: #f0f9ff; letter-spacing: -0.03em; line-height: 1; }
    .weather-condition { font-size: 0.78rem; color: #7dd3fc; margin-top: 0.2rem; font-weight: 500; }
    .weather-location { font-size: 0.7rem; color: rgba(125, 211, 252, 0.65); margin-top: 0.1rem; }

    .weather-middle { display: flex; flex-direction: column; gap: 0.75rem; }
    .weather-surf-bar { display: flex; align-items: center; gap: 0.6rem; }
    .weather-surf-label {
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: rgba(125, 211, 252, 0.7);
      white-space: nowrap;
      font-weight: 500;
    }
    .weather-surf-track {
      flex: 1;
      height: 5px;
      border-radius: 99px;
      background: rgba(255, 255, 255, 0.08);
      overflow: hidden;
    }
    .weather-surf-fill {
      height: 100%;
      border-radius: 99px;
      background: linear-gradient(90deg, #22c55e, #14b8a6);
      transition: width 800ms cubic-bezier(0.34, 1.2, 0.64, 1);
    }
    .weather-surf-rating { font-size: 0.8rem; font-weight: 600; white-space: nowrap; }

    .weather-details { display: flex; gap: 1.2rem; flex-wrap: wrap; }
    .weather-detail-item { display: flex; flex-direction: column; gap: 0.1rem; }
    .weather-detail-label {
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: rgba(125, 211, 252, 0.55);
      font-weight: 500;
    }
    .weather-detail-value { font-size: 0.82rem; color: #e0f2fe; font-weight: 500; }

    .weather-forecast { display: none; }
    @media (min-width: 768px) {
      .weather-forecast {
        display: flex;
        flex-direction: column;
        gap: 0.45rem;
        flex-shrink: 0;
        min-width: 180px;
      }
    }
    .weather-forecast-title {
      font-size: 0.68rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: rgba(125, 211, 252, 0.55);
      font-weight: 500;
      margin-bottom: 0.1rem;
    }
    .weather-forecast-days { display: flex; gap: 0.5rem; }
    .weather-forecast-day {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(56, 189, 248, 0.1);
      border-radius: 0.7rem;
      padding: 0.4rem 0.5rem;
      min-width: 44px;
    }
    .weather-forecast-dow { font-size: 0.62rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; color: rgba(125, 211, 252, 0.7); }
    .weather-forecast-icon { font-size: 1rem; line-height: 1; }
    .weather-forecast-hi { font-size: 0.72rem; font-weight: 600; color: #e0f2fe; }
    .weather-forecast-rain { font-size: 0.62rem; color: rgba(56, 189, 248, 0.65); }

    .weather-loading {
      display: flex;
      align-items: center;
      gap: 0.65rem;
      color: rgba(125, 211, 252, 0.7);
      font-size: 0.85rem;
    }
    @keyframes weather-spin { to { transform: rotate(360deg); } }
    .weather-spinner {
      width: 18px;
      height: 18px;
      border: 2px solid rgba(56, 189, 248, 0.2);
      border-top-color: #38bdf8;
      border-radius: 50%;
      animation: weather-spin 700ms linear infinite;
      flex-shrink: 0;
    }
    .weather-error {
      color: rgba(251, 191, 36, 0.8);
      font-size: 0.82rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .weather-attribution {
      font-size: 0.62rem;
      color: rgba(125, 211, 252, 0.35);
      margin-top: 0.9rem;
      text-align: right;
    }
    .weather-attribution a { color: rgba(125, 211, 252, 0.45); }

    /* SECTION HEADINGS */

    .section-header {
      margin-bottom: 2rem;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
    }

    .section-kicker {
      width: fit-content;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--primary-deep);
    }

    .section-title {
      width: fit-content;
      font-size: 1.6rem;
    }

    .section-subtitle {
      width: fit-content;
      color: var(--text-muted);
      max-width: 32rem;
      font-size: 0.95rem;
      margin-bottom: 0.5rem;
    }

    /* ABOUT */

    .about-grid {
      display: grid;
      gap: 2rem;
    }

    @media (min-width: 768px) {
      .about-grid {
        grid-template-columns: minmax(0, 0.78fr) minmax(0, 1fr);
        gap: 5rem;
        align-items: start;
      }

      .about-grid > aside {
        margin-top: 0;
      }

      .about-image-wrap {
        height: 408px;
      }
    }

    .about-grid .section-header {
      display: none;
    }

    .about-text p + p {
      margin-top: 0.9rem;
    }

    .about-highlights {
      display: grid;
      gap: 0.8rem;
      font-size: 0.9rem;
    }

    .about-highlight {
      display: flex;
      align-items: flex-start;
      gap: 0.6rem;
    }

    .about-bullet {
      margin-top: 0.25rem;
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: radial-gradient(circle at 0 0, #22c55e, #0f766e);
    }

    .about-card {
      padding: 1.4rem 1.5rem;
      border-radius: var(--radius-lg);
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(15, 118, 110, 0.35);
      box-shadow: var(--shadow-soft);
      font-size: 0.9rem;
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
    }

    .about-story-card {
      background:
        radial-gradient(ellipse at 15% 12%,  rgba(34, 197, 94, 0.22)  0%, transparent 62%),
        radial-gradient(ellipse at 88% 82%,  rgba(14, 165, 233, 0.2)  0%, transparent 58%),
        radial-gradient(ellipse at 72% 18%,  rgba(20, 184, 166, 0.18) 0%, transparent 55%),
        radial-gradient(ellipse at 8%  88%,  rgba(103, 232, 249, 0.15) 0%, transparent 50%),
        #f4fdfb;
      border: 1px solid rgba(167, 243, 208, 0.7);
      border-radius: 1.7rem;
      padding: 1.5rem 1.6rem 1.4rem;
      box-shadow: var(--shadow-soft), inset 0 1px 0 rgba(255, 255, 255, 0.9);
      display: flex;
      flex-direction: column;
      gap: 0.85rem;
      font-size: 0.9rem;
    }

    .about-story-header {
      display: flex;
      align-items: center;
      gap: 0.65rem;
      margin-bottom: 0;
    }

    .about-story-icon {
      font-size: 1.4rem;
      line-height: 1;
      flex-shrink: 0;
    }

    .about-story-heading {
      font-size: 1rem;
      font-weight: 700;
      color: #0b4f48;
      line-height: 1.3;
      margin: 0;
    }

    .about-story-body {
      color: #374151;
      line-height: 1.65;
      margin: 0;
    }

    .about-story-divider {
      height: 1px;
      background: rgba(167, 243, 208, 0.6);
      margin: 0.15rem 0;
    }

    .about-story-highlights {
      display: flex;
      flex-direction: column;
      gap: 0.55rem;
    }

    .about-story-highlight {
      display: flex;
      align-items: flex-start;
      gap: 0.55rem;
      color: #374151;
      line-height: 1.5;
    }

    .about-story-bullet {
      color: var(--primary);
      font-size: 0.65rem;
      margin-top: 0.28rem;
      flex-shrink: 0;
    }

    .about-image-wrap {
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(15, 23, 42, 0.25);
      margin-bottom: 1.25rem;
      position: relative;
      height: 240px;
    }

    .about-image-wrap::before {
      content: "";
      position: absolute;
      inset: -35%;
      background:
        radial-gradient(circle at 5% 5%,   rgba(56, 189, 248, 0.28), transparent 55%),
        radial-gradient(circle at 95% 95%,  rgba(52, 211, 153, 0.25), transparent 50%);
      pointer-events: none;
      z-index: 3;
    }

    .about-image-wrap::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at center, transparent 48%, rgba(0, 0, 0, 0.2) 100%);
      border-radius: inherit;
      pointer-events: none;
      z-index: 4;
    }

    .about-image-inner {
      display: block;
      line-height: 0;
      height: calc(100% + 64px);
      margin-top: -32px;
      animation: kenburns-banner 26s ease-in-out infinite;
      transform-origin: center center;
      will-change: transform;
    }

    img.about-image-card {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
      object-position: center bottom;
      will-change: transform;
    }

    .about-chip-row {
      display: flex;
      flex-direction: column;
      flex-wrap: nowrap;
      align-items: flex-start;
      gap: 0.4rem;
      margin-top: 0.9rem;
    }

    .about-chip {
      display: inline-block;
      padding: 0.22rem 0.7rem;
      border-radius: var(--radius-pill);
      border: 1.5px solid transparent;
      font-size: 0.75rem;
      font-weight: 500;
      background:
        linear-gradient(#ffffff, #ffffff) padding-box,
        linear-gradient(120deg, #0f766e 0%, #22c55e 45%, #0ea5e9 100%) border-box;
    }

    .about-chip-text {
      color: #0a6b60;
    }

    /* LESSON PACKAGES */

    .cards-grid {
      display: grid;
      gap: 1.4rem;
    }

    @media (min-width: 768px) {
      .cards-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .package-card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      padding: 1.4rem 1.45rem 1.35rem;
      border: 1px solid var(--border-subtle);
      box-shadow: var(--shadow-soft);
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      position: relative;
      overflow: hidden;
    }

    .package-thumb {
      width: 100%;
      height: 170px;
      border-radius: 1.1rem;
      overflow: hidden;
      position: relative;
    }

    .package-thumb::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at center, transparent 48%, rgba(0, 0, 0, 0.2) 100%);
      border-radius: inherit;
      pointer-events: none;
    }

    .package-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .package-card--sunrise {
      gap: 0.95rem;
    }

    .package-card--sunrise .package-title {
      margin-bottom: 0.25rem;
    }

    .package-card--sunrise .package-desc {
      margin-bottom: 0.1rem;
    }

    .package-card--sunrise .package-meta {
      margin-top: 0.15rem;
    }

    .package-card--sunrise .package-footer {
      padding-top: 0.85rem;
    }

    @media (min-width: 768px) {
      .package-card--sunrise {
        display: none;
      }
    }

    .package-card:nth-child(2) {
      border: 1px solid rgba(15, 118, 110, 0.35);
      box-shadow: 0 16px 40px rgba(15, 118, 110, 0.23);
      transform: translateY(-2px);
    }

    .package-badge {
      position: absolute;
      top: 1.1rem;
      right: 1.1rem;
      padding: 0.25rem 0.6rem;
      border-radius: var(--radius-pill);
      background: var(--primary-soft);
      border: 1px solid rgba(45, 212, 191, 0.9);
      color: #065f46;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      z-index: 10;
    }

    .package-title {
      font-size: 1rem;
      margin-bottom: 0.1rem;
    }

    .package-desc {
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .package-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      font-size: 0.8rem;
      margin-top: 0.2rem;
    }

    .package-tag {
      padding: 0.2rem 0.55rem;
      border-radius: var(--radius-pill);
      background: #eff6ff;
      color: #1d4ed8;
    }

    .package-duration {
      padding: 0.2rem 0.55rem;
      border-radius: var(--radius-pill);
      background: #ecfeff;
      color: #0e7490;
    }

    .package-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: auto;
      padding-top: 0.75rem;
      gap: 0.7rem;
    }

    .package-price {
      font-weight: 600;
      font-size: 1rem;
      color: var(--primary-deep);
    }

    .package-note {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .btn-ghost {
      background: transparent;
      color: var(--primary-deep);
      border: 1px solid rgba(15, 118, 110, 0.4);
      padding-inline: 1.1rem;
      font-size: 0.85rem;
      box-shadow: 0 8px 22px rgba(15, 118, 110, 0.15);
      position: relative;
      overflow: hidden;
      gap: 0.65rem;
    }

    .btn-ghost::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        115deg,
        transparent 25%,
        rgba(14, 165, 233, 0.12) 50%,
        transparent 75%
      );
      transform: translateX(-140%);
      transition: transform 520ms ease;
      pointer-events: none;
    }

    .btn-ghost-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      flex-shrink: 0;
      background: radial-gradient(circle at center,
        rgba(14, 165, 233, 0.9) 0%,
        rgba(34, 197, 94, 0.5) 45%,
        rgba(15, 118, 110, 0.1) 70%,
        transparent 100%);
      box-shadow: 0 0 7px 2px rgba(14, 165, 233, 0.28), 0 0 3px 1px rgba(34, 197, 94, 0.2);
    }

    .btn-ghost:hover {
      background: rgba(240, 253, 250, 0.8);
      text-decoration: none;
    }

    .btn-ghost:hover::before {
      transform: translateX(140%);
    }

    /* SCHEDULE */

    .schedule-wrapper {
      padding: 1.5rem;
      border-radius: var(--radius-lg);
      overflow: hidden;
      background:
        radial-gradient(ellipse at 15% 20%,  rgba(167, 243, 208, 0.45) 0%, transparent 55%),
        radial-gradient(ellipse at 85% 75%,  rgba(186, 230, 253, 0.4)  0%, transparent 50%),
        radial-gradient(ellipse at 60% 10%,  rgba(103, 232, 249, 0.22) 0%, transparent 45%),
        radial-gradient(ellipse at 90% 15%,  rgba(251, 191, 36, 0.1)   0%, transparent 35%),
        #f4fdfb;
      border: 1px solid rgba(167, 243, 208, 0.7);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.4);
      display: grid;
      gap: 1.4rem;
    }

    @media (min-width: 768px) {
      .schedule-wrapper {
        padding: 1.6rem;
        grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
        align-items: stretch;
        column-gap: 1.8rem;
        border: none;
      }
    }

    .schedule-times {
      display: grid;
      gap: 0.65rem;
      font-size: 0.9rem;
    }

    .schedule-item {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      padding: 0.55rem 0.75rem;
      border-radius: 0.9rem;
      border: 1.5px solid transparent;
      background:
        linear-gradient(rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.95)) padding-box,
        linear-gradient(120deg, #0f766e 0%, #22c55e 45%, #0ea5e9 100%) border-box;
    }

    .schedule-label {
      font-weight: 500;
      color: #0f172a;
    }

    .schedule-slot {
      color: #0f766e;
      font-weight: 500;
    }

    .schedule-left {
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
    }

    .schedule-note {
      font-size: 0.8rem;
      color: #0f172a;
      line-height: 1.55;
    }

    .schedule-media {
      position: relative;
      border-radius: 1.4rem;
      overflow: hidden;
      min-height: 180px;
      max-height: 240px;
    }

    @media (min-width: 768px) {
      .schedule-media {
        max-height: none;
        align-self: stretch;
        margin: calc(-1.6rem - 1px) 0 calc(-1.6rem - 1px) calc(-1.6rem - 1px);
        border-radius: var(--radius-lg) 0 0 var(--radius-lg);
      }
    }

    .schedule-media video,
    .schedule-media img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center 60%;
      display: block;
    }

    .schedule-media::after {
      display: none;
    }

    /* TESTIMONIALS */

    .testimonials-grid {
      display: grid;
      gap: 1.2rem;
      margin-top: 0.5rem;
    }

    @media (min-width: 768px) {
      .testimonials-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 1.6rem;
      }
    }

    @media (min-width: 1200px) {
      .testimonials-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 1.8rem;
      }
    }

    .testimonial-card {
      padding: 1.3rem 1.6rem;
      border-radius: var(--radius-lg);
      background: var(--bg-card);
      border: 1px solid rgba(15, 118, 110, 0.35);
      box-shadow: var(--shadow-soft);
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
      position: relative;
      overflow: hidden;
    }

    .testimonial-quote {
      font-size: 0.9rem;
    }

    .testimonial-footer {
      margin-top: auto;
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 0.75rem;
    }

    .testimonial-name {
      font-weight: 600;
      color: var(--primary-deep);
    }

    .testimonial-meta {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .testimonial-pill {
      display: inline-block;
      padding: 0.25rem 0.7rem;
      border-radius: var(--radius-pill);
      background: #eef2ff;
      color: #1d4ed8;
      font-size: 0.8rem;
      font-weight: 500;
      text-decoration: none;
      white-space: nowrap;
    }

    .testimonial-pill:hover {
      background: #e0e7ff;
      text-decoration: none;
    }

    .testimonial-icon {
      position: absolute;
      top: 0.8rem;
      right: 1rem;
      font-size: 2rem;
      color: rgba(59, 130, 246, 0.12);
    }

    .testimonials-banner {
      border-radius: 1.7rem;
      overflow: hidden;
      margin-top: 1.5rem;
      position: relative;
      height: 344px;
    }

    .testimonials-banner::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at center, transparent 45%, rgba(0, 0, 0, 0.22) 100%);
      border-radius: inherit;
      pointer-events: none;
    }

    @keyframes kenburns-banner {
      0%   { transform: scale(1)    translateX(0);      }
      50%  { transform: scale(1.04) translateX(-0.5%);  }
      100% { transform: scale(1)    translateX(0);      }
    }

    .testimonials-banner-inner {
      display: block;
      line-height: 0;
      height: calc(100% + 68px);
      margin-top: -34px;
      animation: kenburns-banner 24s ease-in-out infinite;
      transform-origin: center center;
      will-change: transform;
    }

    .testimonials-banner img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center bottom;
      display: block;
      filter: saturate(1.05);
      will-change: transform;
    }

    @media (min-width: 1024px) {
      .testimonials-banner {
        height: 423px;
      }
    }

    /* FAQ */

    .faq-list {
      display: grid;
      gap: 0.85rem;
    }

    .faq-item {
      border-radius: var(--radius-md);
      border: 1px solid var(--border-subtle);
      background: var(--bg-card);
      overflow: hidden;
    }

    .faq-question {
      width: 100%;
      text-align: left;
      padding: 1.1rem 1.2rem;
      background: none;
      border: none;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      cursor: pointer;
      font-size: 0.95rem;
      color: #0f172a;
      line-height: 1.4;
    }

    .faq-question-text {
      text-align: left;
    }

    .faq-icon {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      color: #0f172a;
      flex-shrink: 0;
      transition: transform var(--transition-fast), background var(--transition-fast), color var(--transition-fast);
    }

    .faq-answer {
      max-height: 0;
      overflow: hidden;
      padding: 0 1.2rem;
      font-size: 0.9rem;
      color: var(--text-muted);
      line-height: 1.7;
      transition: max-height 320ms ease, padding 320ms ease;
    }

    .faq-item.open .faq-answer {
      max-height: 80rem;
      padding-top: 0.2rem;
      padding-bottom: 2.75rem;
    }

    .faq-answer p + p {
      margin-top: 0.7rem;
    }

    .faq-item.open .faq-icon {
      transform: rotate(90deg);
      background: linear-gradient(120deg, #0f766e 0%, #22c55e 45%, #0ea5e9 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      border-color: rgba(15, 118, 110, 0.5);
    }

    /* BOOKING FORM */

    .booking-grid {
      display: grid;
      gap: 2rem;
    }

    @media (min-width: 900px) {
      .booking-grid {
        grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.1fr);
        align-items: flex-start;
      }
    }

    .form-card {
      background: var(--bg-card);
      border-radius: 1.7rem;
      padding: 1.76rem 1.6rem 1.54rem;
      border: 1px solid rgba(15, 118, 110, 0.35);
      box-shadow: 0 16px 40px rgba(15, 118, 110, 0.23);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    @media (min-width: 640px) {
      .form-row--two {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .form-field {
      display: flex;
      flex-direction: column;
      gap: 0.39rem;
      font-size: 0.9rem;
    }

    .form-label {
      font-weight: 500;
      color: #0f172a;
    }

    .form-label span {
      color: #b91c1c;
      margin-left: 0.1rem;
    }

    .form-input,
    .form-select,
    .form-textarea {
      border-radius: 0.9rem;
      border: 1px solid rgba(209, 213, 219, 0.95);
      padding: 0.66rem 0.7rem;
      font: inherit;
      color: var(--text-main);
      background: #f9fafb;
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), transform var(--transition-fast);
    }

    .form-input:focus-visible,
    .form-select:focus-visible,
    .form-textarea:focus-visible {
      outline: none;
      border-color: #0ea5e9;
      box-shadow: 0 0 0 1px rgba(14, 165, 233, 0.6), 0 12px 30px rgba(59, 130, 246, 0.2);
      background: #ffffff;
      transform: translateY(-1px);
    }

    .form-textarea {
      min-height: 99px;
      resize: vertical;
    }

    .form-error {
      font-size: 0.78rem;
      color: #b91c1c;
      min-height: 0.9rem;
    }

    .form-error.hidden {
      display: none;
    }

    .form-char-count {
      font-size: 0.72rem;
      color: var(--text-muted);
    }
    .form-char-count.near-limit { color: #d97706; }

    .form-field.error .form-input,
    .form-field.error .form-select,
    .form-field.error .form-textarea {
      border-color: #f97373;
      background: #fef2f2;
    }

    .form-field.error .form-label {
      color: #b91c1c;
    }

    .form-footnote-divider {
      height: 1px;
      background: rgba(15, 118, 110, 0.35);
      margin-top: 1.25rem;
      margin-bottom: 0.75rem;
    }

    .form-footnote {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 0;
    }

    #booking-form .mt-2 {
      margin-top: 0.55rem;
    }

    #booking-form .mt-3 {
      margin-top: 0.83rem;
    }

    .form-success {
      margin-top: 1rem;
      padding: 0.8rem 0.9rem;
      border-radius: 0.9rem;
      border: 1px solid rgba(34, 197, 94, 0.7);
      background: rgba(220, 252, 231, 0.9);
      color: #166534;
      font-size: 0.85rem;
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
    }

    .form-success.hidden {
      display: none;
    }

    .form-success-icon {
      font-size: 1.1rem;
      line-height: 1;
    }

    .booking-aside {
      font-size: 0.9rem;
    }

    .booking-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.25rem 0.6rem;
      border-radius: var(--radius-pill);
      background: var(--primary-soft);
      color: #064e3b;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 0.8rem;
    }

    .booking-list {
      margin: 0.8rem 0 0;
      padding-left: 1.1rem;
      color: var(--text-muted);
    }

    .booking-list li + li {
      margin-top: 0.4rem;
    }

    .booking-info-card {
      background: linear-gradient(145deg, #f0fdf9 0%, #ecfeff 60%, #f0f9ff 100%);
      border: 1px solid rgba(167, 243, 208, 0.7);
      border-radius: 1.4rem;
      padding: 1.4rem 1.5rem 1.3rem;
      box-shadow: var(--shadow-soft), inset 0 1px 0 rgba(255,255,255,0.9);
      display: flex;
      flex-direction: column;
      gap: 0.9rem;
    }

    .booking-info-card-header {
      display: flex;
      align-items: center;
      gap: 0.65rem;
    }

    .booking-info-icon {
      font-size: 1.4rem;
      line-height: 1;
      flex-shrink: 0;
    }

    .booking-info-heading {
      font-size: 0.95rem;
      font-weight: 700;
      color: #0b4f48;
      line-height: 1.3;
      margin: 0;
    }

    .booking-info-body {
      font-size: 0.85rem;
      color: #374151;
      line-height: 1.6;
      margin: 0;
    }

    .booking-info-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 0.55rem;
    }

    .booking-info-list li {
      display: flex;
      gap: 0.55rem;
      font-size: 0.83rem;
      color: #374151;
      line-height: 1.5;
    }

    .booking-info-bullet {
      color: var(--primary);
      font-size: 0.65rem;
      margin-top: 0.28rem;
      flex-shrink: 0;
    }

    .booking-info-footer {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin: 0;
      padding-top: 0.5rem;
      border-top: 1px solid rgba(167, 243, 208, 0.6);
    }

    .booking-photo-card {
      border-radius: 1.3rem;
      overflow: hidden;
      margin-bottom: 1.4rem;
      box-shadow: var(--shadow-soft);
      position: relative;
    }

    .booking-photo-card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at center, transparent 48%, rgba(0, 0, 0, 0.2) 100%);
      border-radius: inherit;
      pointer-events: none;
    }

    .booking-photo-card img {
      width: 100%;
      height: 248px;
      object-fit: cover;
      display: block;
    }

    /* LOCATION & CONTACT */

    .location-map-wrap {
      border-radius: 1.7rem;
      overflow: hidden;
      box-shadow: 0 14px 38px rgba(15, 23, 42, 0.22);
      margin-bottom: 2.2rem;
    }

    .location-map-body {
      height: 420px;
      display: block;
      background: #0b1120;
    }

    .location-info-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      align-items: stretch;
    }

    @media (min-width: 600px) {
      .location-info-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (min-width: 1024px) {
      .location-info-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }
    }

    .location-tile {
      background: var(--bg-card);
      border-radius: 1.7rem;
      border: 1px solid rgba(209, 213, 219, 0.95);
      padding: 1.2rem 1.3rem;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
      box-shadow: var(--shadow-soft);
      min-height: 100%;
    }

    .location-tile-icon {
      font-size: 1.35rem;
      line-height: 1;
      margin-bottom: 0.2rem;
    }

    .location-tile-label {
      font-size: 0.72rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-muted);
      font-weight: 500;
    }

    .location-tile-value {
      font-size: 0.88rem;
      color: var(--text-main);
      line-height: 1.55;
      flex: 1;
    }

    .location-tile-value a {
      color: var(--primary-deep);
      font-weight: 500;
    }

    .location-tile-cta {
      display: inline-block;
      margin-top: 0.5rem;
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--primary);
      text-decoration: none;
      letter-spacing: 0.01em;
    }

    .location-tile-cta:hover {
      color: var(--primary-deep);
      text-decoration: underline;
    }

    /* MAPBOX UI SUPPRESSION */

    .mapboxgl-ctrl-logo,
    .mapboxgl-ctrl-attrib,
    .mapboxgl-ctrl-bottom-left,
    .mapboxgl-ctrl-bottom-right .mapboxgl-ctrl-attrib {
      display: none !important;
    }

    /* FOOTER */

    footer {
      border-top: 1px solid rgba(209, 213, 219, 0.8);
      margin-top: 3rem;
      padding: 1.8rem 0 1.25rem;
      font-size: 0.85rem;
      background: radial-gradient(circle at top center, rgba(59, 130, 246, 0.08), transparent 60%);
    }

    .footer-inner {
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
    }

    @media (min-width: 768px) {
      .footer-inner {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
      }
    }

    .footer-left {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
    }

    .footer-name {
      font-weight: 600;
    }

    .footer-meta {
      color: var(--text-muted);
      font-size: 0.82rem;
    }

    .footer-nav {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      align-items: flex-start;
    }

    @media (min-width: 768px) {
      .footer-nav {
        align-items: flex-end;
      }
    }

    .footer-links,
    .footer-social {
      display: flex;
      flex-wrap: wrap;
      gap: 0.9rem;
    }

    .footer-link,
    .footer-social a {
      color: var(--text-muted);
      font-weight: 500;
      font-size: 0.85rem;
    }

    .footer-link:hover,
    .footer-social a:hover {
      color: var(--primary-deep);
      text-decoration: none;
    }

    .footer-divider {
      height: 1px;
      background: rgba(15, 118, 110, 0.25);
      margin: 1.25rem 0 1rem;
    }

    .footer-bottom {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      align-items: flex-start;
      text-align: left;
      color: var(--text-muted);
      font-size: 0.8rem;
    }

    .footer-copyright {
      color: var(--text-muted);
    }

    .footer-credit {
      color: var(--text-muted);
    }

    .footer-credit-link {
      color: var(--primary);
      font-weight: 500;
      text-decoration: none;
    }

    .footer-credit-link:hover {
      color: var(--primary-deep);
      text-decoration: underline;
    }

    /* UTILITIES */

    .mt-1 {
      margin-top: 0.25rem;
    }

    .mt-2 {
      margin-top: 0.5rem;
    }

    .mt-3 {
      margin-top: 0.75rem;
    }

    /* RESPONSIVE TWEAKS */

    @media (max-width: 480px) {
      .nav-inner {
        gap: 0.65rem;
      }

      .brand-name {
        font-size: 0.95rem;
      }

      .brand-sub {
        display: none;
      }
    }

    @media print {
      header,
      .sticky-bar,
      .hero-media,
      .testimonials-banner,
      .location-map-wrap {
        display: none;
      }
    }
  </style>
  <link
    href="https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.css"
    rel="stylesheet"
  />
  <script src="https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.js" defer></script>
</head>
<body>
  <!-- Navigation -->
  <header>
    <div class="container nav-inner">
        <a href="#hero" class="brand" aria-label="Back to top">
        <img class="brand-mark" src="./assets/images/kapaa-surf-school-logo-wave.png" alt="Kapaʻa Surf School logo" loading="lazy" />
        <div class="brand-text">
          <span class="brand-name">Kapaʻa Surf School</span>
          <span class="brand-sub">Kauaʻi · Since 2012</span>
        </div>
      </a>

      <nav class="nav-desktop" aria-label="Primary">
        <a class="nav-link" href="#about">About</a>
        <a class="nav-link" href="#packages">Packages</a>
        <a class="nav-link" href="#schedule">Schedule</a>
        <a class="nav-link" href="#weather">Conditions</a>
        <a class="nav-link" href="#testimonials">Testimonials</a>
        <a class="nav-link" href="#faq">FAQ</a>
        <a class="nav-link" href="#location">Location</a>
        <a href="#booking" class="nav-cta">
          <span class="nav-cta-dot" aria-hidden="true"></span>
          Book a Lesson
        </a>
      </nav>

      <button class="hamburger" aria-label="Toggle navigation" aria-expanded="false" aria-controls="mobile-nav">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>
    </div>

    <nav id="mobile-nav" class="nav-mobile" aria-label="Mobile navigation">
      <div class="nav-mobile-inner">
        <a class="nav-mobile-link" href="#about">About</a>
        <a class="nav-mobile-link" href="#packages">Lesson Packages</a>
        <a class="nav-mobile-link" href="#schedule">When We Surf</a>
        <a class="nav-mobile-link" href="#weather">Conditions</a>
        <a class="nav-mobile-link" href="#testimonials">Happy Surfers</a>
        <a class="nav-mobile-link" href="#faq">FAQ</a>
        <a class="nav-mobile-link" href="#location">Location & Contact</a>
        <a href="#booking" class="nav-cta nav-mobile-cta">
          <span class="nav-cta-dot" aria-hidden="true"></span>
          Book a Lesson
        </a>
      </div>
    </nav>
  </header>

  <!-- Sticky bottom booking bar (mobile only) -->
  <div class="sticky-bar" id="sticky-bar" role="complementary" aria-label="Quick booking">
    <span class="sticky-bar-text">Ready to catch a wave? <span>Book in 60 seconds.</span></span>
    <a href="#booking" class="sticky-bar-cta">
      <span class="nav-cta-dot" aria-hidden="true"></span>
      Book a Lesson
    </a>
    <button class="sticky-bar-dismiss" id="sticky-dismiss" aria-label="Dismiss booking prompt" type="button">×</button>
  </div>

  <main id="hero">
    <!-- Hero -->
    <section class="hero" aria-labelledby="hero-heading">
      <div class="container">
        <div class="hero-grid">
          <div class="hero-left-col">
            <span class="hero-cta-wisp" aria-hidden="true"></span>
            <span class="hero-cta-wisp-landed" aria-hidden="true"></span>
            <div class="hero-pre">
              <span class="hero-pre-dot"></span>
              <span>Gentle waves. Local guides. Zero pressure.</span>
            </div>
            <h1 id="hero-heading" class="hero-heading">
              Learn to surf in<br>
              the <span class="hero-magic-wrap"><span class="hero-magic">Mag<span id="hero-magic-i">i</span>c</span><span class="hero-wisp hero-wisp-1" aria-hidden="true"></span><span class="hero-wisp hero-wisp-2" aria-hidden="true"></span><span class="hero-wisp hero-wisp-3" aria-hidden="true"></span><span class="hero-wisp hero-wisp-4" aria-hidden="true"></span></span> <span class="hero-plain">of</span> <span class="hero-highlight">Kauaʻi</span>
            </h1>
            <p class="hero-subtitle">
              Kapaʻa Surf School is a small, local crew of patient instructors helping beginners, families, and small groups stand up for the very first time on the east shore of Kauaʻi.
            </p>

            <div class="hero-actions">
              <a href="#packages" class="btn btn-secondary">
                View Packages
              </a>
              <a href="#booking" class="btn btn-primary hero-cta-btn">
                <span class="hero-cta-dot-placeholder" aria-hidden="true"></span>
                Book a Lesson
              </a>
            </div>

            <div class="hero-meta">
              <div class="hero-meta-item">
                <span class="hero-meta-pill" aria-hidden="true"></span>
                <span>Beginner‑friendly, from “never tried” and up</span>
              </div>
              <div class="hero-meta-item hero-meta-item--warm">
                <span class="hero-meta-pill hero-meta-pill--warm" aria-hidden="true"></span>
                <span>Small groups · Max 4 students per instructor</span>
              </div>
            </div>
          </div>

          <div class="hero-media" aria-hidden="true">
            <aside class="hero-card" aria-label="Lesson snapshot">
              <span class="hero-card-badge">Most Loved</span>
              <div class="hero-card-inner">
                <div class="hero-card-header">
                  <div class="hero-card-title">
                    First Surf Lesson
                  </div>
                  <p class="hero-card-sub">
                    Gentle waist‑high waves, soft‑top boards, and an easy beach start so you can focus on having fun - not being perfect.
                  </p>
                </div>
                <div class="hero-stats">
                  <div>
                    <div class="hero-stat-label">Avg. first‑day stand‑ups</div>
                    <div class="hero-stat-value">3–6 waves ridden</div>
                  </div>
                  <div>
                    <div class="hero-stat-label">Comfort level</div>
                    <div class="hero-stat-value">“Can’t swim” → “Send it”</div>
                  </div>
                </div>
                <div class="hero-wave">
                  <span class="hero-wave-dot" aria-hidden="true"></span>
                  <div class="hero-wave-text">
                    <div>“I went from nervous to stoked in one session!”</div>
                    <div class="hero-wave-sub">– Jess, Beginner, 1st lesson</div>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        </div>
      </div>
    </section>

    <!-- About -->
    <section id="about" aria-labelledby="about-heading">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">About</div>
          <h2 id="about-heading" class="section-title">About Kapaʻa Surf School</h2>
          <p class="section-subtitle">
            We’re a small, locally owned surf school based right in Kapaʻa - rooted in respect for the ocean, safety, and the joy of catching your first wave.
          </p>
        </div>

        <div class="about-grid">
          <aside aria-label="Kauaʻi coastline near Kapaʻa">
            <div class="about-image-wrap">
              <div class="about-image-inner">
                <img
                  class="about-image-card"
                  src="./assets/images/kapaa-surf-school-kauai-coastline-about.jpg"
                  alt="Sunlit Kauaʻi coastline with tropical plants and ocean near Kapaʻa"
                  loading="lazy"
                />
              </div>
            </div>

            <div class="about-story-card mt-3">
              <div class="about-story-header">
                <h3 class="about-story-heading">What makes us different</h3>
              </div>
              <p class="about-story-body">
                We keep our feet in the sand with you - literally. We start with a clear, on‑beach safety talk, dry‑land practice, and ocean reading basics before you paddle out.
              </p>
              <p class="about-story-body">
                Your lesson is never rushed, and there’s always time for questions, feedback, and a few “just one more wave!” tries at the end.
              </p>
              <div class="about-chip-row">
                <span class="about-chip"><span class="about-chip-text">Local instructors</span></span>
                <span class="about-chip"><span class="about-chip-text">Beginner‑first approach</span></span>
                <span class="about-chip"><span class="about-chip-text">Gentle east‑side breaks</span></span>
                <span class="about-chip"><span class="about-chip-text">Photo add‑ons available</span></span>
              </div>
            </div>
          </aside>

          <div class="about-text">
            <div class="about-card">
              <div class="about-story-header">
                <h3 class="about-story-heading" style="color: #0b4f48;">Rooted in Kauaʻi, built for you</h3>
              </div>

              <p class="about-story-body">
                Kapaʻа Surf School is run by lifelong Kauaʼi surfers who grew up in these waters. We keep things friendly, relaxed, and personal so you never feel like you’re just another spot in a crowded lineup.
              </p>
              <p class="about-story-body">
                We specialize in beginners, families, and small groups. Whether you’ve never touched a surfboard, are traveling with kids, or just want an easy, confidence‑building session, we pace everything to your comfort level.
              </p>
              <p class="about-story-body">
                Safety is at the heart of every lesson. We choose mellow, beginner‑friendly breaks; keep class sizes small; and pair you with local instructors who understand the tides, winds, and reef. Our goal is simple: you feel safe, supported, and stoked.
              </p>

              <div class="about-story-divider" style="background: rgba(209,213,219,0.6);"></div>

              <div class="about-story-highlights" aria-label="What you can expect">
                <div class="about-story-highlight">
                  <span class="about-story-bullet" aria-hidden="true">✶</span>
                  <span>Small class sizes - most sessions are 2–4 surfers per instructor.</span>
                </div>
                <div class="about-story-highlight">
                  <span class="about-story-bullet" aria-hidden="true">✶</span>
                  <span>All gear included: soft‑top boards, rash guards, and reef‑safe sunscreen.</span>
                </div>
                <div class="about-story-highlight">
                  <span class="about-story-bullet" aria-hidden="true">✶</span>
                  <span>Patient instructors who love teaching first‑timers as much as they love surfing.</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Lesson Packages -->
    <section id="packages" aria-labelledby="packages-heading">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Lessons</div>
          <h2 id="packages-heading" class="section-title">Lesson Packages</h2>
          <p class="section-subtitle">
            Choose a package that matches your crew and comfort level. Every lesson includes a safety briefing, land practice, and plenty of in‑water coaching.
          </p>
        </div>

        <div class="cards-grid" aria-label="Lesson packages">
          <!-- Beginner Lesson -->
          <article class="package-card">
            <div class="package-thumb">
              <img
                src="./assets/images/kapaa-surf-school-beginner-surf-lesson.jpg"
                alt="Beginner surfers catching a small wave on a Kauaʻi beach"
                loading="lazy"
                style="object-position: center 38%;"
              />
            </div>
            <h3 class="package-title">Beginner Lesson</h3>
            <p class="package-desc">
              A gentle, confidence‑building intro for first‑time surfers. Perfect if you’ve always wanted to try surfing but weren’t sure where to start.
            </p>
            <div class="package-meta">
              <span class="package-duration">2 hours</span>
              <span class="package-tag">Beginner · Ages 10+</span>
            </div>
            <div class="package-footer">
              <div>
                <div class="package-price">$110 / surfer</div>
                <div class="package-note">Small group · Max 4</div>
              </div>
              <button class="btn btn-ghost js-book-from-package" data-lesson="Beginner Lesson">
                <span class="btn-ghost-dot" aria-hidden="true"></span>
                Book Now
              </button>
            </div>
          </article>

          <!-- Ohana Session -->
          <article class="package-card">
            <div class="package-badge">Most Popular</div>
            <div class="package-thumb">
              <img
                src="./assets/images/kapaa-surf-school-family-surf-lesson-kauai.jpg"
                alt="Family enjoying a surf lesson together on a sunny Kauaʻi beach"
                loading="lazy"
              />
            </div>
            <h3 class="package-title">Ohana Session</h3>
            <p class="package-desc">
              Learn together as a family with a pace that suits everyone. Lots of on‑beach support, gentle waves, and patient coaches who love working with kids.
            </p>
            <div class="package-meta">
              <span class="package-duration">2.5 hours</span>
              <span class="package-tag">Families · Ages 7+</span>
            </div>
            <div class="package-footer">
              <div>
                <div class="package-price">$360 / up to 4</div>
                <div class="package-note">+$75 each additional surfer</div>
              </div>
              <button class="btn btn-primary js-book-from-package" data-lesson="Ohana Session">
                <span class="nav-cta-dot" aria-hidden="true"></span>
                Book Now
              </button>
            </div>
          </article>

          <!-- Private Coaching -->
          <article class="package-card">
            <div class="package-thumb">
              <img
                src="./assets/images/kapaa-surf-school-private-surf-coaching.jpg"
                alt="Surf coach guiding a student paddling on a longboard in calm water"
                loading="lazy"
              />
            </div>
            <h3 class="package-title">Private Coaching</h3>
            <p class="package-desc">
              One‑on‑one coaching tailored to you - whether it’s your first time or you’re fine‑tuning your timing, turning, and wave selection.
            </p>
            <div class="package-meta">
              <span class="package-duration">1.5–2 hours</span>
              <span class="package-tag">Solo · Ages 13+</span>
            </div>
            <div class="package-footer">
              <div>
                <div class="package-price">$185 / person</div>
                <div class="package-note">Includes video feedback<br>(when conditions allow)</div>
              </div>
              <button class="btn btn-ghost js-book-from-package" data-lesson="Private Coaching">
                <span class="btn-ghost-dot" aria-hidden="true"></span>
                Book Now
              </button>
            </div>
          </article>

          <!-- Sunrise Session -->
          <article class="package-card package-card--sunrise">
            <div class="package-thumb">
              <img
                src="./assets/images/kapaa-surf-school-sunrise-surf-session.jpg"
                alt="Surfer paddling into a turquoise wave at sunrise"
                loading="lazy"
              />
            </div>
            <h3 class="package-title">Sunrise Session</h3>
            <p class="package-desc">
              Catch first light over the ocean with a mellow dawn patrol lesson. Quieter lineups, soft colors, and a calm way to start the day.
            </p>
            <div class="package-meta">
              <span class="package-duration">2 hours</span>
              <span class="package-tag">Early risers · Limited spots</span>
            </div>
            <div class="package-footer">
              <div>
                <div class="package-price">$145 / surfer</div>
                <div class="package-note">Seasonal · 3–5 days/week</div>
              </div>
              <button class="btn btn-ghost js-book-from-package" data-lesson="Sunrise Session">
                <span class="btn-ghost-dot" aria-hidden="true"></span>
                Book Now
              </button>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Schedule preview -->
    <section id="schedule" aria-labelledby="schedule-heading">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Schedule</div>
          <h2 id="schedule-heading" class="section-title">When we surf</h2>
          <p class="section-subtitle">
            We plan around tides, winds, and swell to keep conditions friendly for new surfers. These are our most common start times.
          </p>
        </div>

        <div class="schedule-wrapper">
          <div class="schedule-media" aria-label="Kauaʻi palms and coastline at sunset">
            <video
              src="./assets/video/kapaa-surf-school-kauai-location-coastline.mp4"
              autoplay
              muted
              loop
              playsinline
              poster="./assets/images/kapaa-surf-school-kauai-sunset-palms-schedule.jpg"
            ></video>
          </div>
          <div class="schedule-left">
            <div class="schedule-times" aria-label="Weekly lesson times">
              <div class="schedule-item">
                <div class="schedule-label">Sunrise</div>
                <div class="schedule-slot">Seasonal · 6:00–6:30am</div>
              </div>
              <div class="schedule-item">
                <div class="schedule-label">Mon–Fri</div>
                <div class="schedule-slot">8:00am · 11:00am · 2:00pm</div>
              </div>
              <div class="schedule-item">
                <div class="schedule-label">Sat–Sun</div>
                <div class="schedule-slot">9:00am · 1:00pm</div>
              </div>
            </div>
            <div>
              <p class="schedule-note">
                Times are flexible and may shift slightly based on tides, swell, and wind. Once you send a booking request, we’ll confirm the best time for your crew by email or text, along with meeting point and parking tips.
              </p>
              <p class="schedule-note mt-2">
                Want a custom time for your group or celebration? Let us know in the notes section of your booking and we’ll see what we can do.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Live surf conditions -->
    <section id="weather" aria-labelledby="weather-heading">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Conditions</div>
          <h2 id="weather-heading" class="section-title">Live surf conditions</h2>
          <p class="section-subtitle">Real-time weather in Kapaʻa, Kauaʻi — updated every time the page loads so you know what to expect before you paddle out.</p>
        </div>
        <div class="weather-bar" role="region" aria-label="Live weather conditions in Kapaʻa, Kauaʻi" aria-live="polite">
          <div id="weather-loading" class="weather-loading">
            <span class="weather-spinner" aria-hidden="true"></span>
            Fetching live conditions for Kapaʻa…
          </div>
          <div id="weather-content" class="weather-inner" hidden></div>
          <div id="weather-error" class="weather-error" hidden>
            <span aria-hidden="true">⚠</span> Couldn't load conditions — please try refreshing.
          </div>
          <p class="weather-attribution" id="weather-attr" hidden>
            Weather data: <a href="https://open-meteo.com" target="_blank" rel="noopener noreferrer">Open-Meteo</a> (free, open-source). Surf suitability derived from wind speed.
          </p>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" aria-labelledby="faq-heading">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">FAQ</div>
          <h2 id="faq-heading" class="section-title">Frequently asked questions</h2>
          <p class="section-subtitle">
            A few of the things we’re asked most often before booking. If you don’t see your question here, just add it to the notes in the booking form.
          </p>
        </div>

        <div class="faq-list" aria-label="Frequently asked questions">
          <!-- FAQ Item 1 -->
          <article class="faq-item">
            <button class="faq-question" type="button" aria-expanded="false">
              <span class="faq-question-text">Do I need prior experience?</span>
              <span class="faq-icon" aria-hidden="true">›</span>
            </button>
            <div class="faq-answer">
              <p>
                Not at all. Most of our surfers are complete beginners. We start on the sand with basics like stance, paddling, and how to fall safely, then move into calm, waist‑high water where you can take your time getting comfortable.
              </p>
            </div>
          </article>

          <!-- FAQ Item 2 -->
          <article class="faq-item">
            <button class="faq-question" type="button" aria-expanded="false">
              <span class="faq-question-text">What do I need to bring?</span>
              <span class="faq-icon" aria-hidden="true">›</span>
            </button>
            <div class="faq-answer">
              <p>
                Bring a swimsuit, towel, water, and any personal sun protection you like (hat, sunglasses for the beach, etc.). We provide rash guards and reef‑safe sunscreen, but you’re always welcome to bring your own if you prefer.
              </p>
            </div>
          </article>

          <!-- FAQ Item 3 -->
          <article class="faq-item">
            <button class="faq-question" type="button" aria-expanded="false">
              <span class="faq-question-text">Do you provide surfboards and rash guards?</span>
              <span class="faq-icon" aria-hidden="true">›</span>
            </button>
            <div class="faq-answer">
              <p>
                Yes. Every lesson includes a soft‑top surfboard that matches your size and ability, plus a long‑sleeve rash guard. If you have your own board, let us know in the booking notes and we’ll help you decide what’s best for the conditions.
              </p>
            </div>
          </article>

          <!-- FAQ Item 4 -->
          <article class="faq-item">
            <button class="faq-question" type="button" aria-expanded="false">
              <span class="faq-question-text">Can kids take lessons?</span>
              <span class="faq-icon" aria-hidden="true">›</span>
            </button>
            <div class="faq-answer">
              <p>
                Yes. We teach kids starting around age 7 for group lessons, and can sometimes accommodate younger surfers in a private or family session depending on comfort and swim ability. We keep a very close instructor‑to‑student ratio with kids.
              </p>
            </div>
          </article>

          <!-- FAQ Item 5 -->
          <article class="faq-item">
            <button class="faq-question" type="button" aria-expanded="false">
              <span class="faq-question-text">What happens if the waves are flat or the weather is bad?</span>
              <span class="faq-icon" aria-hidden="true">›</span>
            </button>
            <div class="faq-answer">
              <p>
                If conditions are unsafe (strong winds, storms, or heavy surf) we’ll contact you as early as possible to reschedule or cancel at no charge. If it’s simply smaller or a bit overcast, we’ll usually still surf - it can actually make for ideal beginner waves.
              </p>
            </div>
          </article>

          <!-- FAQ Item 6 -->
          <article class="faq-item">
            <button class="faq-question" type="button" aria-expanded="false">
              <span class="faq-question-text">I’m not a strong swimmer. Is that okay?</span>
              <span class="faq-icon" aria-hidden="true">›</span>
            </button>
            <div class="faq-answer">
              <p>
                Many of our guests are not strong swimmers. We stay in waist‑to‑chest‑high water, use large, buoyant boards, and keep instructors close by at all times. You should be comfortable floating with assistance and being in the ocean; we’ll handle the rest.
              </p>
            </div>
          </article>

          <!-- FAQ Item 7 -->
          <article class="faq-item">
            <button class="faq-question" type="button" aria-expanded="false">
              <span class="faq-question-text">Can we book a private group or special event?</span>
              <span class="faq-icon" aria-hidden="true">›</span>
            </button>
            <div class="faq-answer">
              <p>
                Absolutely. We regularly host small wedding parties, birthday sessions, and team outings. Add details in the booking notes or send us an email, and we’ll help design a session that fits your group and schedule.
              </p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Testimonials -->
    <section id="testimonials" aria-labelledby="testimonials-heading">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Stories</div>
          <h2 id="testimonials-heading" class="section-title">Happy surfers</h2>
          <p class="section-subtitle">
            A few words from first‑timers and families who started their surf story with us here in Kapaʻa.
          </p>
        </div>

        <div class="testimonials-grid" aria-label="Testimonials">
          <article class="testimonial-card">
            <div class="testimonial-icon" aria-hidden="true">❝</div>
            <blockquote class="testimonial-quote">
              “I was genuinely nervous about the ocean, but they walked me through every step and never rushed me. By the end of the lesson I was laughing and actually asking for ‘one more wave.’”
            </blockquote>
            <div class="testimonial-footer">
              <div>
                <div class="testimonial-name">Jess Chambers</div>
                <div class="testimonial-meta">1st lesson</div>
              </div>
              <a href="#packages" class="testimonial-pill">Beginner Lesson</a>
            </div>
          </article>

          <article class="testimonial-card">
            <div class="testimonial-icon" aria-hidden="true">❝</div>
            <blockquote class="testimonial-quote">
              “Our kids are 8 and 11 and the instructors somehow kept them both engaged and safe. The shore briefing made me feel really comfortable as a parent. Favorite family memory from our trip.”
            </blockquote>
            <div class="testimonial-footer">
              <div>
                <div class="testimonial-name">The Ramos Ohana</div>
                <div class="testimonial-meta">Family of 4</div>
              </div>
              <a href="#packages" class="testimonial-pill">Ohana Session</a>
            </div>
          </article>

          <article class="testimonial-card">
            <div class="testimonial-icon" aria-hidden="true">❝</div>
            <blockquote class="testimonial-quote">
              “I’d surfed a handful of times before, but never really ‘got it.’ The private coaching helped me fix my stance and where I looked on the wave. Huge difference in just one morning.”
            </blockquote>
            <div class="testimonial-footer">
              <div>
                <div class="testimonial-name">Lena Edwards</div>
                <div class="testimonial-meta">Returning surfer</div>
              </div>
              <a href="#packages" class="testimonial-pill">Private Coaching</a>
            </div>
          </article>
        </div>

        <div class="testimonials-banner" aria-hidden="true">
          <div class="testimonials-banner-inner">
            <img
              src="./assets/images/kapaa-surf-school-happy-surfers-testimonials.jpeg"
              alt="Happy surfers relaxing on their boards at golden hour"
              loading="lazy"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Booking form -->
    <section id="booking" aria-labelledby="booking-heading">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Booking</div>
          <h2 id="booking-heading" class="section-title">Book a lesson</h2>
          <p class="section-subtitle">
            Tell us a little about your crew and preferred date. We’ll follow up by email to confirm your time, conditions, and meeting spot.
          </p>
        </div>

        <div class="booking-grid">
          <form id="booking-form" class="form-card" novalidate aria-describedby="booking-note">
            <div class="form-row form-row--two">
              <div class="form-field" data-field="name">
                <label class="form-label" for="name">Name<span aria-hidden="true">*</span></label>
                <input class="form-input" type="text" id="name" name="name" autocomplete="name" required aria-required="true" />
                <div class="form-error hidden" aria-live="polite" role="alert"></div>
              </div>

              <div class="form-field" data-field="email">
                <label class="form-label" for="email">Email<span aria-hidden="true">*</span></label>
                <input class="form-input" type="email" id="email" name="email" autocomplete="email" required aria-required="true" />
                <div class="form-error hidden" aria-live="polite" role="alert"></div>
              </div>
            </div>

            <div class="form-row form-row--two mt-2">
              <div class="form-field" data-field="phone">
                <label class="form-label" for="phone">Phone (optional)</label>
                <input class="form-input" type="tel" id="phone" name="phone" autocomplete="tel" />
                <div class="form-error hidden" aria-live="polite" role="alert"></div>
              </div>

              <div class="form-field" data-field="groupSize">
                <label class="form-label" for="groupSize">Group size<span aria-hidden="true">*</span></label>
                <input class="form-input" type="number" id="groupSize" name="groupSize" min="1" max="12" required aria-required="true" />
                <div class="form-error hidden" aria-live="polite" role="alert"></div>
              </div>
            </div>

            <div class="form-row form-row--two mt-2">
              <div class="form-field" data-field="date">
                <label class="form-label" for="date">Preferred date<span aria-hidden="true">*</span></label>
                <input class="form-input" type="date" id="date" name="date" required aria-required="true" />
                <div class="form-error hidden" aria-live="polite" role="alert"></div>
              </div>

              <div class="form-field" data-field="time">
                <label class="form-label" for="time">Preferred time</label>
                <select class="form-select" id="time" name="time">
                  <option value="">Choose a time (flexible)</option>
                  <option value="8:00am">Morning · 8:00am</option>
                  <option value="9:00am">Weekend · 9:00am</option>
                  <option value="11:00am">Late morning · 11:00am</option>
                  <option value="1:00pm">Weekend · 1:00pm</option>
                  <option value="2:00pm">Afternoon · 2:00pm</option>
                  <option value="Sunrise">Sunrise session</option>
                </select>
                <div class="form-error hidden" aria-live="polite" role="alert"></div>
              </div>
            </div>

            <div class="form-row mt-2">
              <div class="form-field" data-field="lessonType">
                <label class="form-label" for="lessonType">Lesson type<span aria-hidden="true">*</span></label>
                <select class="form-select" id="lessonType" name="lessonType" required aria-required="true">
                  <option value="">Select a package</option>
                  <option value="Beginner Lesson">Beginner Lesson</option>
                  <option value="Ohana Session">Ohana Session</option>
                  <option value="Private Coaching">Private Coaching</option>
                  <option value="Sunrise Session">Sunrise Session</option>
                  <option value="Not sure yet">Not sure yet</option>
                </select>
                <div class="form-error hidden" aria-live="polite" role="alert"></div>
              </div>
            </div>

            <div class="form-row mt-2">
              <div class="form-field" data-field="message">
                <label class="form-label" for="message">Message / notes</label>
                <textarea class="form-textarea" id="message" name="message" maxlength="600" placeholder="Tell us about your group, ocean comfort level, and anything we should know (ages, celebration, etc.)."></textarea>
                <div style="display:flex;justify-content:space-between;align-items:center;">
                  <div class="form-error hidden" aria-live="polite" role="alert"></div>
                  <span class="form-char-count" id="msg-count" aria-live="polite">0 / 600</span>
                </div>
              </div>
            </div>

            <div class="form-row mt-3">
              <button type="submit" class="btn btn-primary" style="width: 100%; justify-content: center;">
                Send booking request
              </button>
            </div>

            <div class="form-footnote-divider" aria-hidden="true"></div>

            <p id="booking-note" class="form-footnote">
              We’ll reply within 24 hours to confirm availability, conditions, and your final lesson time. No payment is taken on this form.
            </p>

            <div id="form-success" class="form-success hidden" role="status" aria-live="polite">
              <div class="form-success-icon" aria-hidden="true">✓</div>
              <div>
                <strong>Thanks! Your booking request has been received.</strong><br />
                We’ll review tides and conditions, then email you with a confirmed time, meeting point, and what to expect on the day of your lesson.
              </div>
            </div>
          </form>

          <aside class="booking-aside">
            <div class="booking-photo-card" aria-hidden="true">
              <img
                src="./assets/images/kapaa-surf-school-surfboard-alley-hawaii.jpg"
                alt="Colorful longboards lined up in an alley leading to the ocean in Hawaii"
                loading="lazy"
              />
            </div>
            <div class="booking-info-card">
              <div class="booking-info-card-header">
                <span class="booking-info-icon" aria-hidden="true">🌊</span>
                <h3 class="booking-info-heading">We surf on the ocean’s schedule</h3>
              </div>
              <p class="booking-info-body">
                Every lesson is planned around the ocean instead of the clock. After you submit your request, our team checks tides, winds, and swell to make sure you’re surfing in the friendliest window for that day.
              </p>
              <ul class="booking-info-list">
                <li>
                  <span class="booking-info-bullet" aria-hidden="true">✦</span>
                  We’ll suggest the best time if your requested slot doesn’t line up with conditions.
                </li>
                <li>
                  <span class="booking-info-bullet" aria-hidden="true">✦</span>
                  Need a photographer or have a special celebration? Add it to your notes.
                </li>
                <li>
                  <span class="booking-info-bullet" aria-hidden="true">✦</span>
                  Questions before you book? Email us any time - we’re happy to help.
                </li>
              </ul>
              <p class="booking-info-footer">
                Prefer to chat first? Call or text us using the number below.
              </p>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- Location & contact -->
    <section id="location" aria-labelledby="location-heading">
      <div class="container">
        <div class="section-header">
          <div class="section-kicker">Visit</div>
          <h2 id="location-heading" class="section-title">Location & contact</h2>
          <p class="section-subtitle">
            We’re based right in Kapaʻa, on Kauaʻi’s east side, with easy access to mellow, beginner‑friendly surf breaks and plenty of parking.
          </p>
        </div>

        <div class="location-map-wrap">
          <div id="map-container" class="location-map-body"></div>
        </div>

        <div class="location-info-grid">
          <div class="location-tile">
            <div class="location-tile-icon" aria-hidden="true">📍</div>
            <div class="location-tile-label">Where we meet</div>
            <div class="location-tile-value">
              Kapaʻa Surf School<br />
              456 Keālia Beachfront Rd<br />
              Kapaʻa, HI 96746
            </div>
            <a class="location-tile-cta" href="https://maps.google.com/?q=Kapaa+Surf+School+Kauai" target="_blank" rel="noopener noreferrer">Get directions ↗</a>
          </div>

          <div class="location-tile">
            <div class="location-tile-icon" aria-hidden="true">🕐</div>
            <div class="location-tile-label">Hours of operation</div>
            <div class="location-tile-value">
              Daily · 7:00am – 4:00pm<br />
              Sunrise sessions by reservation only
            </div>
          </div>

          <div class="location-tile">
            <div class="location-tile-icon" aria-hidden="true">✉️</div>
            <div class="location-tile-label">Contact us</div>
            <div class="location-tile-value">
              <a href="mailto:aloha@kapaasurfschool.com">aloha@kapaasurfschool.com</a><br />
              <a href="tel:+18085551234">(808) 555‑1234</a>
            </div>
          </div>

          <div class="location-tile">
            <div class="location-tile-icon" aria-hidden="true">🚗</div>
            <div class="location-tile-label">Parking &amp; meeting spot</div>
            <div class="location-tile-value">
              Directions and a beach pin are included in your confirmation email after booking.
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-inner">
        <div class="footer-left">
          <span class="footer-name">Kapaʻa Surf School</span>
          <span class="footer-meta">Small, local, and stoked to share our home break with you.</span>
        </div>

        <div class="footer-nav">
          <div class="footer-links" aria-label="Quick links">
            <a class="footer-link" href="#about">About</a>
            <a class="footer-link" href="#packages">Packages</a>
            <a class="footer-link" href="#weather">Conditions</a>
            <a class="footer-link" href="#booking">Book</a>
            <a class="footer-link" href="#location">Location</a>
          </div>
          <div class="footer-social" aria-label="Social links">
            <a href="#" class="footer-link" rel="noopener noreferrer">Instagram</a>
            <a href="#" class="footer-link" rel="noopener noreferrer">Facebook</a>
          </div>
        </div>
      </div>

      <div class="footer-divider" aria-hidden="true"></div>

      <div class="footer-bottom">
        <span class="footer-copyright">© <span id="year"></span> Kapaʻa Surf School. All rights reserved.</span>
        <span class="footer-credit">Created by <a href="https://phx.cx" target="_blank" rel="noopener noreferrer" class="footer-credit-link">Phoenix Studios</a></span>
      </div>
    </div>
  </footer>

  <script>
    // Mapbox GL JS map for Kapaʻa Surf School
    // secret-scanning-exempt
    mapboxgl.accessToken = "pk.eyJ1IjoiZGFtb25waG9lbml4IiwiYSI6ImNtbHF6eWFheTA2YXoza3BubGE2YWI1bWsifQ.n1Fw0m7XkPfejWErKdl6Tw";

    document.addEventListener("DOMContentLoaded", function () {
      const mapEl = document.getElementById("map-container");
      if (!mapEl || typeof mapboxgl === "undefined") return;

      const KAPAA_COORDS = { lat: 22.0752, lng: -159.3190 };

      const map = new mapboxgl.Map({
        container: "map-container",
        style: "mapbox://styles/mapbox/outdoors-v12",
        center: [KAPAA_COORDS.lng, KAPAA_COORDS.lat],
        zoom: 11,
        attributionControl: false
      });

      map.addControl(new mapboxgl.NavigationControl({ showCompass: false }), "top-right");

      new mapboxgl.Marker({ color: "#0f766e" })
        .setLngLat([KAPAA_COORDS.lng, KAPAA_COORDS.lat])
        .setPopup(
          new mapboxgl.Popup({ offset: 16 }).setHTML(
            "<strong>Kapaʻa Surf School</strong><br/>East shore of Kauaʻi"
          )
        )
        .addTo(map);
    });

    /* Live weather widget — Open-Meteo (free, no API key) */
    (function () {
      var LAT = 22.0752, LNG = -159.3190;
      var WMO_ICONS = {
        0: "☀️", 1: "🌤️", 2: "⛅", 3: "☁️",
        45: "🌫️", 48: "🌫️",
        51: "🌦️", 53: "🌦️", 55: "🌧️",
        61: "🌧️", 63: "🌧️", 65: "🌧️",
        71: "🌨️", 73: "🌨️", 75: "❄️",
        80: "🌦️", 81: "🌧️", 82: "⛈️",
        95: "⛈️", 96: "⛈️", 99: "⛈️"
      };
      var WMO_TEXT = {
        0: "Clear sky", 1: "Mainly clear", 2: "Partly cloudy", 3: "Overcast",
        45: "Foggy", 48: "Foggy",
        51: "Light drizzle", 53: "Drizzle", 55: "Heavy drizzle",
        61: "Light rain", 63: "Rain", 65: "Heavy rain",
        71: "Light snow", 73: "Snow", 75: "Heavy snow",
        80: "Rain showers", 81: "Rain showers", 82: "Heavy showers",
        95: "Thunderstorm", 96: "Thunderstorm", 99: "Severe thunderstorm"
      };
      var DAYS = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

      function windToSurf(kph) {
        var mph = kph * 0.621371;
        if (mph < 8)  return { pct: 95, label: "Excellent 🤙", color: "#22c55e" };
        if (mph < 14) return { pct: 78, label: "Good 👍", color: "#86efac" };
        if (mph < 20) return { pct: 55, label: "Fair 🌊", color: "#fbbf24" };
        if (mph < 28) return { pct: 32, label: "Choppy 🌬️", color: "#fb923c" };
        return { pct: 12, label: "Rough ⚠️", color: "#ef4444" };
      }

      function degToCompass(deg) {
        var dirs = ["N", "NE", "E", "SE", "S", "SW", "W", "NW"];
        return dirs[Math.round(deg / 45) % 8];
      }

      function renderWeather(data) {
        var cur = data.current;
        var daily = data.daily;
        var code = cur.weather_code;
        var tempF = Math.round(cur.temperature_2m);
        var windKph = cur.wind_speed_10m;
        var windMph = Math.round(windKph * 0.621371);
        var windDir = degToCompass(cur.wind_direction_10m);
        var surf = windToSurf(windKph);

        // uv_index is an hourly variable only — extract value for the current local hour
        var uvIndex = null;
        try {
          if (data.hourly && data.hourly.time && data.hourly.uv_index) {
            var now = new Date(cur.time + ":00");
            var pad = function (n) { return String(n).padStart(2, "0"); };
            var hourKey = now.getFullYear() + "-" + pad(now.getMonth() + 1) + "-" + pad(now.getDate()) + "T" + pad(now.getHours()) + ":00";
            var idx = data.hourly.time.indexOf(hourKey);
            if (idx >= 0 && data.hourly.uv_index[idx] != null) {
              uvIndex = Math.round(data.hourly.uv_index[idx] * 10) / 10;
            }
          }
        } catch (e) { /* UV fallback: leave null */ }

        var uvDisplay = uvIndex != null ? String(uvIndex) : '—';

        var forecastHTML = "";
        for (var i = 1; i <= 4; i++) {
          if (!daily.time[i]) continue;
          var d = new Date(daily.time[i] + "T12:00:00");
          var dow = DAYS[d.getDay()];
          var hi = Math.round(daily.temperature_2m_max[i]);
          var rainPct = daily.precipitation_probability_max[i] || 0;
          var dCode = daily.weather_code[i];
          forecastHTML += '<div class="weather-forecast-day">' +
            '<span class="weather-forecast-dow">' + dow + '</span>' +
            '<span class="weather-forecast-icon">' + (WMO_ICONS[dCode] || "🌤️") + '</span>' +
            '<span class="weather-forecast-hi">' + hi + '°F</span>' +
            '<span class="weather-forecast-rain">💧' + rainPct + '%</span>' +
          '</div>';
        }

        var content = document.getElementById("weather-content");
        content.innerHTML =
          '<div class="weather-current">' +
            '<span class="weather-icon" aria-hidden="true">' + (WMO_ICONS[code] || "🌤️") + '</span>' +
            '<div class="weather-now">' +
              '<span class="weather-temp">' + tempF + '°F</span>' +
              '<span class="weather-condition">' + (WMO_TEXT[code] || "Partly cloudy") + '</span>' +
              '<span class="weather-location">Kapaʻa, Kauaʻi · Live</span>' +
            '</div>' +
          '</div>' +
          '<div class="weather-middle">' +
            '<div class="weather-surf-bar">' +
              '<span class="weather-surf-label">Surf suitability</span>' +
              '<div class="weather-surf-track"><div class="weather-surf-fill" id="surf-fill" style="width:0;background:linear-gradient(90deg,' + surf.color + ',#14b8a6)"></div></div>' +
              '<span class="weather-surf-rating" style="color:' + surf.color + '">' + surf.label + '</span>' +
            '</div>' +
            '<div class="weather-details">' +
              '<div class="weather-detail-item"><span class="weather-detail-label">Wind</span><span class="weather-detail-value">' + windMph + ' mph ' + windDir + '</span></div>' +
              '<div class="weather-detail-item"><span class="weather-detail-label">Humidity</span><span class="weather-detail-value">' + (cur.relative_humidity_2m != null ? cur.relative_humidity_2m + '%' : '—') + '</span></div>' +
              '<div class="weather-detail-item"><span class="weather-detail-label">UV Index</span><span class="weather-detail-value">' + uvDisplay + '</span></div>' +
            '</div>' +
          '</div>' +
          '<div class="weather-forecast">' +
            '<div class="weather-forecast-title">5-day outlook</div>' +
            '<div class="weather-forecast-days">' + forecastHTML + '</div>' +
          '</div>';

        document.getElementById("weather-loading").hidden = true;
        content.hidden = false;
        document.getElementById("weather-attr").hidden = false;

        setTimeout(function () {
          var fill = document.getElementById("surf-fill");
          if (fill) fill.style.width = surf.pct + "%";
        }, 200);
      }

      function fetchWeather() {
        // uv_index is NOT a valid current= variable in Open-Meteo; request via hourly= and extract current hour.
        var url = "https://api.open-meteo.com/v1/forecast" +
          "?latitude=" + LAT +
          "&longitude=" + LNG +
          "&current=temperature_2m,weather_code,wind_speed_10m,wind_direction_10m,relative_humidity_2m" +
          "&hourly=uv_index" +
          "&daily=weather_code,temperature_2m_max,precipitation_probability_max" +
          "&temperature_unit=fahrenheit" +
          "&wind_speed_unit=kmh" +
          "&timezone=Pacific%2FHonolulu" +
          "&forecast_days=5";

        fetch(url)
          .then(function (r) { if (!r.ok) throw new Error("Network error"); return r.json(); })
          .then(function (data) { renderWeather(data); })
          .catch(function () {
            document.getElementById("weather-loading").hidden = true;
            document.getElementById("weather-error").hidden = false;
          });
      }

      document.addEventListener("DOMContentLoaded", fetchWeather);
    })();

    /* Sticky booking bar: show after hero, hide when booking in view */
    (function () {
      var bar = document.getElementById("sticky-bar");
      var dismiss = document.getElementById("sticky-dismiss");
      var dismissed = false;
      var bookingSection = document.getElementById("booking");

      function updateBar() {
        if (!bar || dismissed) return;
        var scrollY = window.scrollY || window.pageYOffset;
        var heroEl = document.querySelector(".hero");
        var heroH = heroEl ? heroEl.offsetHeight : 300;
        var bookingTop = bookingSection ? bookingSection.getBoundingClientRect().top + scrollY : Infinity;

        var pastHero = scrollY > heroH * 0.7;
        var nearBooking = (scrollY + window.innerHeight) > (bookingTop - 100);
        bar.classList.toggle("visible", pastHero && !nearBooking);
      }

      if (dismiss) {
        dismiss.addEventListener("click", function () {
          dismissed = true;
          bar.classList.remove("visible");
        });
      }

      window.addEventListener("scroll", updateBar, { passive: true });
      updateBar();
    })();

    (function () {
      // Utility: smooth scroll to element by id
      function smoothScrollToId(id) {
        var el = document.getElementById(id);
        if (!el) return;
        el.scrollIntoView({ behavior: "smooth", block: "start" });
      }

      // Update current year in footer
      var yearSpan = document.getElementById("year");
      if (yearSpan) {
        yearSpan.textContent = new Date().getFullYear();
      }

      // Date picker: minimum today
      var dateInput = document.getElementById("date");
      if (dateInput) {
        var today = new Date();
        var yyyy = today.getFullYear();
        var mm = String(today.getMonth() + 1).padStart(2, "0");
        var dd = String(today.getDate()).padStart(2, "0");
        dateInput.min = yyyy + "-" + mm + "-" + dd;
      }

      // Textarea character counter (0 / 600, amber near limit)
      var msgArea = document.getElementById("message");
      var msgCount = document.getElementById("msg-count");
      if (msgArea && msgCount) {
        msgArea.addEventListener("input", function () {
          var len = msgArea.value.length;
          var max = parseInt(msgArea.getAttribute("maxlength") || "600", 10);
          msgCount.textContent = len + " / " + max;
          msgCount.classList.toggle("near-limit", len > max * 0.85);
        });
      }

      // Yellow fairy wisp: position from "i" in Magic to Book a Lesson (any viewport)
      function positionHeroWisp() {
        var col = document.querySelector(".hero-left-col");
        var magicI = document.getElementById("hero-magic-i");
        var placeholder = document.querySelector(".hero-left-col .hero-cta-dot-placeholder");
        var wisp = document.querySelector(".hero-cta-wisp");
        var landed = document.querySelector(".hero-cta-wisp-landed");
        if (!col || !magicI || !placeholder || !wisp || !landed) return;

        var colRect = col.getBoundingClientRect();
        var iRect = magicI.getBoundingClientRect();
        var phRect = placeholder.getBoundingClientRect();
        var wispSize = 8;

        // Start: dot of "i" (use top 25% of "i" for dot, horizontal center)
        var startX = (iRect.left - colRect.left) + iRect.width / 2 - wispSize / 2;
        var startY = (iRect.top - colRect.top) + iRect.height * 0.2 - wispSize / 2;
        // End: center of placeholder
        var endX = (phRect.left - colRect.left) + phRect.width / 2 - wispSize / 2;
        var endY = (phRect.top - colRect.top) + phRect.height / 2 - wispSize / 2;
        var dx = endX - startX;
        var dy = endY - startY;
        var cw = colRect.width;
        var ch = colRect.height;
        var loopX = cw * 0.28;
        var loopY = ch * 0.12;

        wisp.style.left = startX + "px";
        wisp.style.top = startY + "px";
        wisp.style.right = "auto";
        landed.style.left = startX + "px";
        landed.style.top = startY + "px";
        landed.style.right = "auto";

        // Bigger excited loop (0–14%), then dashes; after second dash, slow arrival at button (~1–2s longer)
        var kf = [
          [0, 0, 0, 1],
          [3, 6, -6, 1],
          [6, -4, 5, 1],
          [9, 8, -4, 1],
          [12, -3, 6, 1],
          [14, 0, 0, 1],
          [20, loopX * 0.9, dy * 0.08, 1],
          [28, loopX, dy * 0.18, 1],
          [36, -loopX * 0.85, dy * 0.3, 1],
          [42, -loopX * 0.5, dy * 0.38, 1],
          [50, dx * 0.22, dy * 0.48, 1],
          [58, dx * 0.38, dy * 0.56, 1],
          [65, dx * 0.5, dy * 0.64, 1],
          [72, dx * 0.62, dy * 0.72, 1],
          [78, dx * 0.72, dy * 0.78, 1],
          [84, dx * 0.82, dy * 0.85, 1],
          [89, dx * 0.9, dy * 0.9, 1],
          [93, dx * 0.95, dy * 0.95, 0.98],
          [96, dx, dy, 0.5],
          [100, dx, dy, 0]
        ];
        var kfStr = kf.map(function (p) {
          var t = "translate(" + Math.round(p[1]) + "px," + Math.round(p[2]) + "px)";
          if (p[0] === 96) t += " scale(1.03)";
          if (p[0] === 100) t += " scale(1)";
          return p[0] + "%{transform:" + t + ";opacity:" + p[3] + "}";
        }).join("");
        var styleId = "hero-wisp-js-keyframes";
        var oldStyle = document.getElementById(styleId);
        if (oldStyle) oldStyle.remove();
        var dxR = Math.round(dx);
        var dyR = Math.round(dy);
        var style = document.createElement("style");
        style.id = styleId;
        var duration = 6.5;
        var landDelay = 1.5 + duration;
        var breatheDelay = landDelay + 0.25 + 1.5;
        style.textContent = "@keyframes hero-cta-wisp-travel-js{" + kfStr + "}@keyframes hero-cta-wisp-landed-appear-js{0%{opacity:0;transform:translate(" + dxR + "px," + dyR + "px) scale(0.6)}40%{opacity:1;transform:translate(" + dxR + "px," + dyR + "px) scale(1.05)}70%{transform:translate(" + dxR + "px," + dyR + "px) scale(0.98)}100%{opacity:1;transform:translate(" + dxR + "px," + dyR + "px) scale(1)}}@keyframes hero-cta-wisp-landed-breathe-js{0%,100%{transform:translate(" + dxR + "px," + dyR + "px) scale(1);opacity:1}50%{transform:translate(" + dxR + "px," + dyR + "px) scale(1.06);opacity:0.94}}";
        document.head.appendChild(style);
        wisp.style.animation = "hero-cta-wisp-travel-js " + duration + "s cubic-bezier(0.32, 0.08, 0.2, 1) 1 forwards";
        wisp.style.animationDelay = "1.5s";
        landed.style.transform = "translate(" + Math.round(dx) + "px," + Math.round(dy) + "px)";
        landed.style.animation = "hero-cta-wisp-landed-appear-js 1.5s ease-out 1 forwards, hero-cta-wisp-landed-breathe-js 2.2s ease-in-out " + breatheDelay + "s infinite";
        landed.style.animationDelay = (landDelay + 0.25) + "s";
        col.classList.add("hero-wisp-js");
      }

      function runWisp() {
        setTimeout(positionHeroWisp, 150);
      }
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", runWisp);
      } else {
        runWisp();
      }
      window.addEventListener("resize", function () {
        clearTimeout(window._heroWispResize);
        window._heroWispResize = setTimeout(positionHeroWisp, 100);
      });

      // Mobile navigation toggle
      var hamburger = document.querySelector(".hamburger");
      var mobileNav = document.getElementById("mobile-nav");

      if (hamburger && mobileNav) {
        hamburger.addEventListener("click", function () {
          var isOpen = hamburger.getAttribute("aria-expanded") === "true";
          hamburger.setAttribute("aria-expanded", String(!isOpen));
          mobileNav.classList.toggle("open");
        });

        // Close mobile nav when clicking a link
        mobileNav.addEventListener("click", function (e) {
          if (e.target.tagName.toLowerCase() === "a") {
            hamburger.setAttribute("aria-expanded", "false");
            mobileNav.classList.remove("open");
          }
        });
      }

      // Smooth scrolling for in-page links
      var scrollLinks = document.querySelectorAll('a[href^="#"]');
      scrollLinks.forEach(function (link) {
        link.addEventListener("click", function (e) {
          var href = link.getAttribute("href");
          if (!href || href === "#") return;
          var id = href.substring(1);
          var target = document.getElementById(id);
          if (!target) return;
          e.preventDefault();
          target.scrollIntoView({ behavior: "smooth", block: "start" });
        });
      });

      // "Book Now" buttons from packages prefill lesson type and scroll to booking
      var packageButtons = document.querySelectorAll(".js-book-from-package");
      var lessonSelect = document.getElementById("lessonType");
      packageButtons.forEach(function (btn) {
        btn.addEventListener("click", function () {
          var lessonName = btn.getAttribute("data-lesson");
          if (lessonSelect && lessonName) {
            lessonSelect.value = lessonName;
            lessonSelect.focus();
          }
          smoothScrollToId("booking");
        });
      });

      // FAQ accordion
      var faqItems = document.querySelectorAll(".faq-item");
      faqItems.forEach(function (item) {
        var button = item.querySelector(".faq-question");
        var answer = item.querySelector(".faq-answer");

        if (!button || !answer) return;

        button.addEventListener("click", function () {
          var isOpen = item.classList.contains("open");
          // Close all others
          faqItems.forEach(function (other) {
            if (other !== item) {
              other.classList.remove("open");
              var btn = other.querySelector(".faq-question");
              if (btn) btn.setAttribute("aria-expanded", "false");
            }
          });

          if (isOpen) {
            item.classList.remove("open");
            button.setAttribute("aria-expanded", "false");
          } else {
            item.classList.add("open");
            button.setAttribute("aria-expanded", "true");
          }
        });
      });

      // Booking form validation and submission
      var bookingForm = document.getElementById("booking-form");
      var successBox = document.getElementById("form-success");

      function showError(fieldName, message) {
        var fieldWrapper = bookingForm.querySelector('[data-field="' + fieldName + '"]');
        if (!fieldWrapper) return;
        var errorEl = fieldWrapper.querySelector(".form-error");
        fieldWrapper.classList.add("error");
        if (errorEl) {
          errorEl.textContent = message || "";
          errorEl.classList.remove("hidden");
        }
      }

      function clearError(fieldName) {
        var fieldWrapper = bookingForm.querySelector('[data-field="' + fieldName + '"]');
        if (!fieldWrapper) return;
        var errorEl = fieldWrapper.querySelector(".form-error");
        fieldWrapper.classList.remove("error");
        if (errorEl) {
          errorEl.textContent = "";
          errorEl.classList.add("hidden");
        }
      }

      function validateEmail(value) {
        // Basic email pattern check
        var re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(String(value).toLowerCase());
      }

      if (bookingForm) {
        bookingForm.addEventListener("submit", function (e) {
          e.preventDefault();

          if (successBox) {
            successBox.classList.add("hidden");
          }

          // Clear previous errors
          ["name", "email", "phone", "groupSize", "date", "time", "lessonType", "message"].forEach(clearError);

          var formData = new FormData(bookingForm);
          var name = (formData.get("name") || "").toString().trim();
          var email = (formData.get("email") || "").toString().trim();
          var phone = (formData.get("phone") || "").toString().trim();
          var groupSizeStr = (formData.get("groupSize") || "").toString().trim();
          var date = (formData.get("date") || "").toString().trim();
          var time = (formData.get("time") || "").toString().trim();
          var lessonType = (formData.get("lessonType") || "").toString().trim();
          var message = (formData.get("message") || "").toString().trim();

          var hasError = false;

          // Name required
          if (!name) {
            showError("name", "Please share the name we can put on your booking.");
            hasError = true;
          }

          // Email required + pattern
          if (!email) {
            showError("email", "We use your email to send confirmation details.");
            hasError = true;
          } else if (!validateEmail(email)) {
            showError("email", "That doesn’t look like a valid email address.");
            hasError = true;
          }

          // Optional phone: no strict validation, but we can give gentle feedback if too short and not empty
          if (phone && phone.length < 7) {
            showError("phone", "If you’d like us to text you, please include a full phone number.");
            hasError = true;
          }

          // Group size required
          var groupSize = parseInt(groupSizeStr, 10);
          if (!groupSizeStr) {
            showError("groupSize", "Let us know how many surfers will join.");
            hasError = true;
          } else if (isNaN(groupSize) || groupSize < 1) {
            showError("groupSize", "Group size must be at least 1 surfer.");
            hasError = true;
          } else if (groupSize > 12) {
            showError("groupSize", "For groups larger than 12, please contact us for a custom plan.");
            hasError = true;
          }

          // Date required and not in the past (simple check)
          if (!date) {
            showError("date", "Please choose a preferred date.");
            hasError = true;
          } else {
            var today = new Date();
            today.setHours(0, 0, 0, 0);
            var chosen = new Date(date + "T00:00:00");
            if (chosen < today) {
              showError("date", "Please choose a date that hasn’t passed yet.");
              hasError = true;
            }
          }

          // Lesson type required
          if (!lessonType) {
            showError("lessonType", "Select the lesson that sounds closest to what you’d like.");
            hasError = true;
          }

          // Message optional but nice hint if empty
          if (!message) {
            // no error; we keep this optional
          }

          if (hasError) {
            // Focus first error
            var firstError = bookingForm.querySelector(".form-field.error .form-input, .form-field.error .form-select, .form-field.error .form-textarea");
            if (firstError && typeof firstError.focus === "function") {
              firstError.focus();
            }
            return;
          }

          // Simulate successful submission
          bookingForm.reset();
          if (lessonSelect) {
            lessonSelect.value = ""; // reset from any pre-fill
          }
          if (successBox) {
            successBox.classList.remove("hidden");
          }

          // Scroll success message into view on small screens
          successBox && successBox.scrollIntoView({ behavior: "smooth", block: "nearest" });
        });
      }
    })();

    // Parallax helper
    function makeParallax(wrapSelector, travel) {
      var wrap = document.querySelector(wrapSelector);
      var img  = wrap && wrap.querySelector("img");
      if (!wrap || !img) return;
      var ticking = false;
      function update() {
        var rect  = wrap.getBoundingClientRect();
        var viewH = window.innerHeight;
        if (rect.bottom < -viewH || rect.top > viewH * 2) { ticking = false; return; }
        var progress = 1 - (rect.top + rect.height / 2) / viewH;
        img.style.transform = "translateY(" + (progress * travel) + "px)";
        ticking = false;
      }
      window.addEventListener("scroll", function () {
        if (!ticking) { requestAnimationFrame(update); ticking = true; }
      }, { passive: true });
      update();
    }

    makeParallax(".testimonials-banner", 30);
    makeParallax(".about-image-wrap",     24);

    // Schedule video playback speed: normal until 85%, then 0.75x to end, reset on loop
    (function () {
      var vid = document.querySelector(".schedule-media video");
      if (!vid) return;
      var slowed = false;
      vid.playbackRate = 1;
      vid.addEventListener("timeupdate", function () {
        if (!vid.duration) return;
        var pct = vid.currentTime / vid.duration;
        if (pct >= 0.85 && !slowed) {
          vid.playbackRate = 0.75;
          slowed = true;
        }
      });
      vid.addEventListener("seeked", function () {
        // Reset when video loops back to start
        if (vid.currentTime < 1) {
          vid.playbackRate = 1;
          slowed = false;
        }
      });
    })();
  </script>
</body>
</html>